# Casual greetingShareHeyJan 15Hey! How's it going?I have dbt git and local business documents i need to create an agent or workflow. Whenever a pull request has made on the sql file in git that should take that file using GitHub actions and refer the business docs and create developer document for the sql code and save it in me file and it should be sent to every developer when they create a branch for each and individual changesJan 15I can help you design this workflow! Here's a comprehensive solution using GitHub Actions to automatically generate developer documentation from SQL files by referencing your business documents.
# High-Level Architecture:

# GitHub Action triggers on PR with SQL file changes
# Extract changed SQL files
# Use an LLM (like Claude API) to analyze SQL + business docs
# Generate markdown documentation
# Commit docs to the PR branch
# Optionally notify developers

# Implementation:
# First, create .github/workflows/sql-doc-generator.yml:
# yamlname: Generate SQL Documentation

# on:
#   pull_request:
#     paths:
#       - '**/*.sql'
#     types: [opened, synchronize]

# jobs:
#   generate-docs:
#     runs-on: ubuntu-latest
#     permissions:
#       contents: write
#       pull-requests: write
    
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4
#         with:
#           fetch-depth: 0
#           ref: ${{ github.head_ref }}
      
#       - name: Get changed SQL files
#         id: changed-files
#         uses: tj-actions/changed-files@v41
#         with:
#           files: |
#             **/*.sql
      
#       - name: Setup Python
#         if: steps.changed-files.outputs.any_changed == 'true'
#         uses: actions/setup-python@v5
#         with:
#           python-version: '3.11'
      
#       - name: Install dependencies
#         if: steps.changed-files.outputs.any_changed == 'true'
#         run: |
#           pip install anthropic gitpython
      
#       - name: Generate documentation
#         if: steps.changed-files.outputs.any_changed == 'true'
#         env:
#           ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
#           CHANGED_FILES: ${{ steps.changed-files.outputs.all_changed_files }}
#         run: |
#           python .github/scripts/generate_sql_docs.py
      
#       - name: Commit documentation
#         if: steps.changed-files.outputs.any_changed == 'true'
#         run: |
#           git config user.name "SQL Doc Bot"
#           git config user.email "bot@github-actions"
#           git add docs/sql/**/*.md
#           git diff --cached --quiet || git commit -m "ðŸ“ Auto-generate SQL documentation for PR #${{ github.event.pull_request.number }}"
#           git push
      
#       - name: Comment on PR
#         if: steps.changed-files.outputs.any_changed == 'true'
#         uses: actions/github-script@v7
#         with:
#           script: |
#             github.rest.issues.createComment({
#               issue_number: context.issue.number,
#               owner: context.repo.owner,
#               repo: context.repo.repo,
#               body: 'ðŸ“š SQL documentation has been automatically generated and committed to this branch. Check the `docs/sql/` directory for the updated documentation.'
#             })
# Now create .github/scripts/generate_sql_docs.py:
# pythonimport os
# import anthropic
# from pathlib import Path

# def read_business_docs():
#     """Read all business documentation files"""
#     business_docs = []
#     docs_path = Path("business_docs")  # Adjust path as needed
    
#     if docs_path.exists():
#         for doc_file in docs_path.rglob("*.md"):
#             with open(doc_file, 'r') as f:
#                 business_docs.append({
#                     'filename': doc_file.name,
#                     'content': f.read()
#                 })
    
#     return business_docs

# def generate_documentation(sql_file_path, sql_content, business_docs):
#     """Generate documentation using Claude API"""
#     client = anthropic.Anthropic(api_key=os.environ.get("ANTHROPIC_API_KEY"))
    
#     # Prepare business context
#     business_context = "\n\n".join([
#         f"### {doc['filename']}\n{doc['content']}" 
#         for doc in business_docs
#     ])
    
#     prompt = f"""You are a technical documentation expert. Generate comprehensive developer documentation for the following dbt SQL file.

# Business Documentation Context:
# {business_context}

# SQL File Path: {sql_file_path}

# SQL Code:
# ```sql
# {sql_content}
# ```

# Generate documentation that includes:
# 1. **Overview**: What this SQL transformation does
# 2. **Business Context**: How it relates to business requirements from the documentation
# 3. **Dependencies**: What tables/models it depends on
# 4. **Output Schema**: Description of output columns
# 5. **Logic Explanation**: Step-by-step explanation of the transformation logic
# 6. **Usage Examples**: How other developers should use this model
# 7. **Important Notes**: Any caveats, performance considerations, or edge cases

# Format the documentation in clean, readable Markdown."""

#     message = client.messages.create(
#         model="claude-sonnet-4-20250514",
#         max_tokens=4000,
#         messages=[{"role": "user", "content": prompt}]
#     )
    
#     return message.content[0].text

# def main():
#     # Get changed files from environment
#     changed_files = os.environ.get('CHANGED_FILES', '').split()
    
#     # Read business documentation
#     business_docs = read_business_docs()
    
#     # Process each SQL file
#     for sql_file in changed_files:
#         if not sql_file.endswith('.sql'):
#             continue
        
#         print(f"Processing: {sql_file}")
        
#         # Read SQL content
#         with open(sql_file, 'r') as f:
#             sql_content = f.read()
        
#         # Generate documentation
#         doc_content = generate_documentation(sql_file, sql_content, business_docs)
        
#         # Create output path
#         doc_path = Path("docs/sql") / Path(sql_file).with_suffix('.md')
#         doc_path.parent.mkdir(parents=True, exist_ok=True)
        
#         # Write documentation
#         with open(doc_path, 'w') as f:
#             f.write(f"# Documentation for {sql_file}\n\n")
#             f.write(f"**Generated for PR**: #{os.environ.get('GITHUB_PR_NUMBER', 'N/A')}\n\n")
#             f.write(doc_content)
        
#         print(f"Documentation saved to: {doc_path}")

# if __name__ == "__main__":
#     main()
# Setup Instructions:

# Add the Anthropic API key to GitHub Secrets:

# Go to your repo Settings â†’ Secrets and variables â†’ Actions
# Add ANTHROPIC_API_KEY with your API key


# Organize your business documents:

# Place them in a business_docs/ directory (or adjust the path in the script)


# Customize the paths:

# Adjust SQL file paths in the workflow if your dbt models aren't in the root
# Modify the documentation output directory if needed


# Optional enhancements:

# Add Slack/email notifications using additional actions
# Create a summary comment with links to all generated docs
# Add validation checks for SQL syntax before generating docs



# How it works:

# When a developer creates a PR with SQL changes, the action triggers
# It reads your business docs and the changed SQL files
# Claude generates comprehensive documentation by understanding both
# Docs are committed directly to the PR branch
# A comment notifies the team that docs are ready

# Would you like me to add any specific features, like Slack notifications or a different documentation template?Give me an full-fledged architecture for thisJan 15I'll design a comprehensive, production-ready architecture for your automated SQL documentation system. This will include multiple components, error handling, monitoring, and scalability considerations.
# Full-Fledged Architecture for SQL Documentation Automation

# 1. System Architecture Overview
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                         GitHub Repository                        â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
# â”‚  â”‚ dbt Models â”‚  â”‚ Business Docsâ”‚  â”‚ GitHub Workflows   â”‚      â”‚
# â”‚  â”‚  (*.sql)   â”‚  â”‚   (*.md)     â”‚  â”‚   (.github/)       â”‚      â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                               â”‚
#                               â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                      GitHub Actions Workflow                     â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
# â”‚  â”‚ Trigger Events:                                           â”‚  â”‚
# â”‚  â”‚ â€¢ Pull Request (opened/synchronized)                      â”‚  â”‚
# â”‚  â”‚ â€¢ Manual Workflow Dispatch                                â”‚  â”‚
# â”‚  â”‚ â€¢ Schedule (nightly full scan)                            â”‚  â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                               â”‚
#                               â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                    Orchestration Layer (Python)                  â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
# â”‚  â”‚ File Change  â”‚  â”‚ Doc Validatorâ”‚  â”‚ Cache Managerâ”‚          â”‚
# â”‚  â”‚ Detector     â”‚  â”‚              â”‚  â”‚              â”‚          â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                               â”‚
#                               â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                   Documentation Generation Pipeline              â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
# â”‚  â”‚ 1. Context Gathering                                      â”‚  â”‚
# â”‚  â”‚    â€¢ Extract SQL metadata (dbt parser)                    â”‚  â”‚
# â”‚  â”‚    â€¢ Load business documentation                          â”‚  â”‚
# â”‚  â”‚    â€¢ Retrieve git history & PR context                    â”‚  â”‚
# â”‚  â”‚    â€¢ Fetch related model dependencies                     â”‚  â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
# â”‚  â”‚ 2. AI Documentation Generation                            â”‚  â”‚
# â”‚  â”‚    â€¢ Claude API with context injection                    â”‚  â”‚
# â”‚  â”‚    â€¢ Template-based formatting                            â”‚  â”‚
# â”‚  â”‚    â€¢ Multi-model support (primary + fallback)            â”‚  â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
# â”‚  â”‚ 3. Post-processing & Validation                           â”‚  â”‚
# â”‚  â”‚    â€¢ Markdown linting                                     â”‚  â”‚
# â”‚  â”‚    â€¢ Link validation                                      â”‚  â”‚
# â”‚  â”‚    â€¢ Quality scoring                                      â”‚  â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                               â”‚
#                               â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                    Storage & Distribution Layer                  â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
# â”‚  â”‚ Git Commit   â”‚  â”‚ GitHub Pages â”‚  â”‚ Artifact     â”‚          â”‚
# â”‚  â”‚ (docs/*)     â”‚  â”‚ (Optional)   â”‚  â”‚ Storage      â”‚          â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                               â”‚
#                               â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                      Notification Layer                          â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
# â”‚  â”‚ PR Comments  â”‚  â”‚ Slack/Teams  â”‚  â”‚ Email        â”‚          â”‚
# â”‚  â”‚              â”‚  â”‚ Webhooks     â”‚  â”‚ (Optional)   â”‚          â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                               â”‚
#                               â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                    Monitoring & Analytics                        â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
# â”‚  â”‚ GitHub       â”‚  â”‚ Custom       â”‚  â”‚ Cost         â”‚          â”‚
# â”‚  â”‚ Action Logs  â”‚  â”‚ Metrics      â”‚  â”‚ Tracking     â”‚          â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# 2. Repository Structure
# your-dbt-project/
# â”œâ”€â”€ .github/
# â”‚   â”œâ”€â”€ workflows/
# â”‚   â”‚   â”œâ”€â”€ sql-doc-generator.yml          # Main workflow
# â”‚   â”‚   â”œâ”€â”€ doc-validator.yml              # Validation workflow
# â”‚   â”‚   â””â”€â”€ scheduled-doc-refresh.yml      # Nightly full refresh
# â”‚   â”œâ”€â”€ scripts/
# â”‚   â”‚   â”œâ”€â”€ doc_generator/
# â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
# â”‚   â”‚   â”‚   â”œâ”€â”€ main.py                    # Entry point
# â”‚   â”‚   â”‚   â”œâ”€â”€ config.py                  # Configuration
# â”‚   â”‚   â”‚   â”œâ”€â”€ file_detector.py           # Change detection
# â”‚   â”‚   â”‚   â”œâ”€â”€ context_gatherer.py        # Context extraction
# â”‚   â”‚   â”‚   â”œâ”€â”€ ai_generator.py            # AI documentation
# â”‚   â”‚   â”‚   â”œâ”€â”€ validators.py              # Quality checks
# â”‚   â”‚   â”‚   â”œâ”€â”€ notifiers.py               # Notifications
# â”‚   â”‚   â”‚   â”œâ”€â”€ cache_manager.py           # Caching logic
# â”‚   â”‚   â”‚   â””â”€â”€ utils.py                   # Utilities
# â”‚   â”‚   â”œâ”€â”€ templates/
# â”‚   â”‚   â”‚   â”œâ”€â”€ doc_template.md            # Documentation template
# â”‚   â”‚   â”‚   â”œâ”€â”€ pr_comment.md              # PR comment template
# â”‚   â”‚   â”‚   â””â”€â”€ summary_report.md          # Summary template
# â”‚   â”‚   â””â”€â”€ requirements.txt
# â”‚   â””â”€â”€ config/
# â”‚       â”œâ”€â”€ doc-generator-config.yml       # Main config
# â”‚       â””â”€â”€ business-glossary.yml          # Business terms
# â”‚
# â”œâ”€â”€ models/                                 # dbt models
# â”‚   â”œâ”€â”€ staging/
# â”‚   â”œâ”€â”€ intermediate/
# â”‚   â””â”€â”€ marts/
# â”‚
# â”œâ”€â”€ business_docs/                         # Business documentation
# â”‚   â”œâ”€â”€ data_definitions/
# â”‚   â”œâ”€â”€ business_rules/
# â”‚   â”œâ”€â”€ kpis/
# â”‚   â””â”€â”€ glossary.md
# â”‚
# â”œâ”€â”€ docs/                                  # Generated documentation
# â”‚   â”œâ”€â”€ sql/
# â”‚   â”‚   â”œâ”€â”€ staging/
# â”‚   â”‚   â”œâ”€â”€ intermediate/
# â”‚   â”‚   â””â”€â”€ marts/
# â”‚   â”œâ”€â”€ index.md                          # Documentation index
# â”‚   â””â”€â”€ _metadata/
# â”‚       â”œâ”€â”€ generation_log.json           # Audit trail
# â”‚       â””â”€â”€ quality_scores.json           # Quality metrics
# â”‚
# â”œâ”€â”€ tests/
# â”‚   â””â”€â”€ doc_generator/
# â”‚       â”œâ”€â”€ test_generator.py
# â”‚       â””â”€â”€ test_validators.py
# â”‚
# â””â”€â”€ dbt_project.yml

# 3. Detailed Component Design
# 3.1 GitHub Actions Workflows
# .github/workflows/sql-doc-generator.yml
# yamlname: SQL Documentation Generator

# on:
#   pull_request:
#     paths:
#       - 'models/**/*.sql'
#       - 'business_docs/**/*.md'
#     types: [opened, synchronize, reopened]
#   workflow_dispatch:
#     inputs:
#       force_regenerate:
#         description: 'Force regenerate all docs'
#         required: false
#         default: 'false'
#   schedule:
#     - cron: '0 2 * * *'  # Nightly at 2 AM UTC

# env:
#   PYTHON_VERSION: '3.11'
#   CACHE_VERSION: 'v1'

# jobs:
#   detect-changes:
#     name: Detect File Changes
#     runs-on: ubuntu-latest
#     outputs:
#       sql_changed: ${{ steps.filter.outputs.sql }}
#       business_docs_changed: ${{ steps.filter.outputs.business_docs }}
#       changed_sql_files: ${{ steps.changed-files.outputs.all_changed_files }}
#       matrix: ${{ steps.set-matrix.outputs.matrix }}
    
#     steps:
#       - name: Checkout repository
#         uses: actions/checkout@v4
#         with:
#           fetch-depth: 0
#           ref: ${{ github.head_ref || github.ref }}
      
#       - name: Check file filters
#         uses: dorny/paths-filter@v2
#         id: filter
#         with:
#           filters: |
#             sql:
#               - 'models/**/*.sql'
#             business_docs:
#               - 'business_docs/**/*.md'
      
#       - name: Get changed SQL files
#         id: changed-files
#         uses: tj-actions/changed-files@v41
#         with:
#           files: |
#             models/**/*.sql
#           json: true
#           escape_json: false
      
#       - name: Create file matrix
#         id: set-matrix
#         run: |
#           if [ "${{ github.event_name }}" == "schedule" ] || [ "${{ github.event.inputs.force_regenerate }}" == "true" ]; then
#             # Generate for all SQL files
#             FILES=$(find models -name "*.sql" -type f | jq -R -s -c 'split("\n")[:-1]')
#           else
#             FILES='${{ steps.changed-files.outputs.all_changed_files }}'
#           fi
#           echo "matrix={\"file\":$FILES}" >> $GITHUB_OUTPUT
      
#       - name: Upload change summary
#         uses: actions/upload-artifact@v4
#         with:
#           name: change-summary
#           path: |
#             ${{ steps.changed-files.outputs.all_changed_files }}
#           retention-days: 7

#   generate-documentation:
#     name: Generate Documentation
#     needs: detect-changes
#     if: needs.detect-changes.outputs.sql_changed == 'true' || needs.detect-changes.outputs.business_docs_changed == 'true' || github.event_name == 'schedule'
#     runs-on: ubuntu-latest
#     permissions:
#       contents: write
#       pull-requests: write
#       issues: write
    
#     strategy:
#       matrix: ${{ fromJson(needs.detect-changes.outputs.matrix) }}
#       max-parallel: 5
#       fail-fast: false
    
#     steps:
#       - name: Checkout repository
#         uses: actions/checkout@v4
#         with:
#           fetch-depth: 0
#           ref: ${{ github.head_ref || github.ref }}
#           token: ${{ secrets.GITHUB_TOKEN }}
      
#       - name: Setup Python
#         uses: actions/setup-python@v5
#         with:
#           python-version: ${{ env.PYTHON_VERSION }}
#           cache: 'pip'
      
#       - name: Cache dependencies
#         uses: actions/cache@v3
#         with:
#           path: ~/.cache/pip
#           key: ${{ runner.os }}-pip-${{ env.CACHE_VERSION }}-${{ hashFiles('.github/scripts/requirements.txt') }}
#           restore-keys: |
#             ${{ runner.os }}-pip-${{ env.CACHE_VERSION }}-
      
#       - name: Install dependencies
#         run: |
#           pip install --upgrade pip
#           pip install -r .github/scripts/requirements.txt
      
#       - name: Setup dbt
#         run: |
#           pip install dbt-core dbt-snowflake dbt-bigquery dbt-postgres
#           dbt deps
      
#       - name: Validate configuration
#         run: |
#           python .github/scripts/doc_generator/main.py validate-config
      
#       - name: Generate documentation
#         env:
#           ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
#           OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
#           SQL_FILE: ${{ matrix.file }}
#           PR_NUMBER: ${{ github.event.pull_request.number }}
#           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#           RUN_ID: ${{ github.run_id }}
#           REPOSITORY: ${{ github.repository }}
#           ACTOR: ${{ github.actor }}
#         run: |
#           python .github/scripts/doc_generator/main.py generate \
#             --file "$SQL_FILE" \
#             --config .github/config/doc-generator-config.yml \
#             --output-dir docs/sql
      
#       - name: Validate generated documentation
#         run: |
#           python .github/scripts/doc_generator/main.py validate \
#             --file "${{ matrix.file }}"
      
#       - name: Upload documentation artifacts
#         uses: actions/upload-artifact@v4
#         with:
#           name: generated-docs-${{ strategy.job-index }}
#           path: |
#             docs/sql/**/*.md
#             docs/_metadata/*.json
#           retention-days: 30
  
#   commit-and-notify:
#     name: Commit Documentation & Notify
#     needs: [detect-changes, generate-documentation]
#     runs-on: ubuntu-latest
#     permissions:
#       contents: write
#       pull-requests: write
    
#     steps:
#       - name: Checkout repository
#         uses: actions/checkout@v4
#         with:
#           fetch-depth: 0
#           ref: ${{ github.head_ref || github.ref }}
#           token: ${{ secrets.GITHUB_TOKEN }}
      
#       - name: Download all artifacts
#         uses: actions/download-artifact@v4
#         with:
#           path: artifacts/
      
#       - name: Merge documentation
#         run: |
#           mkdir -p docs/sql
#           find artifacts/ -name "*.md" -exec cp {} docs/sql/ \;
#           find artifacts/ -name "*.json" -exec cp {} docs/_metadata/ \;
      
#       - name: Generate documentation index
#         run: |
#           python .github/scripts/doc_generator/main.py generate-index \
#             --docs-dir docs/sql \
#             --output docs/index.md
      
#       - name: Commit documentation
#         id: commit
#         run: |
#           git config user.name "SQL Doc Bot"
#           git config user.email "sql-doc-bot@users.noreply.github.com"
#           git add docs/
          
#           if git diff --cached --quiet; then
#             echo "No changes to commit"
#             echo "committed=false" >> $GITHUB_OUTPUT
#           else
#             git commit -m "ðŸ“ Auto-generate SQL documentation

#             Generated for: ${{ github.event_name }}
#             PR: #${{ github.event.pull_request.number }}
#             Run ID: ${{ github.run_id }}
#             Files updated: $(git diff --cached --name-only | wc -l)"
            
#             git push
#             echo "committed=true" >> $GITHUB_OUTPUT
#           fi
      
#       - name: Generate summary report
#         if: steps.commit.outputs.committed == 'true'
#         run: |
#           python .github/scripts/doc_generator/main.py generate-summary \
#             --metadata-dir docs/_metadata \
#             --output summary.md
      
#       - name: Comment on PR
#         if: github.event_name == 'pull_request' && steps.commit.outputs.committed == 'true'
#         uses: actions/github-script@v7
#         with:
#           script: |
#             const fs = require('fs');
#             const summary = fs.readFileSync('summary.md', 'utf8');
            
#             await github.rest.issues.createComment({
#               issue_number: context.issue.number,
#               owner: context.repo.owner,
#               repo: context.repo.repo,
#               body: summary
#             });
      
#       - name: Send Slack notification
#         if: steps.commit.outputs.committed == 'true'
#         uses: slackapi/slack-github-action@v1
#         with:
#           payload: |
#             {
#               "text": "ðŸ“š SQL Documentation Updated",
#               "blocks": [
#                 {
#                   "type": "section",
#                   "text": {
#                     "type": "mrkdwn",
#                     "text": "*SQL Documentation Generated*\n\nPR: <${{ github.event.pull_request.html_url }}|#${{ github.event.pull_request.number }}>\nAuthor: ${{ github.actor }}\nFiles: ${{ needs.detect-changes.outputs.changed_sql_files }}"
#                   }
#                 }
#               ]
#             }
#         env:
#           SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
      
#       - name: Update quality metrics
#         run: |
#           python .github/scripts/doc_generator/main.py update-metrics \
#             --metadata-dir docs/_metadata

#   quality-check:
#     name: Quality Assurance
#     needs: generate-documentation
#     runs-on: ubuntu-latest
    
#     steps:
#       - name: Checkout repository
#         uses: actions/checkout@v4
      
#       - name: Download documentation
#         uses: actions/download-artifact@v4
      
#       - name: Run quality checks
#         run: |
#           python .github/scripts/doc_generator/main.py quality-check \
#             --docs-dir docs/sql \
#             --min-score 70
      
#       - name: Generate quality report
#         run: |
#           python .github/scripts/doc_generator/main.py quality-report \
#             --output quality-report.md
      
#       - name: Upload quality report
#         uses: actions/upload-artifact@v4
#         with:
#           name: quality-report
#           path: quality-report.md

# 3.2 Core Python Application
# .github/scripts/doc_generator/config.py
# pythonimport os
# import yaml
# from pathlib import Path
# from dataclasses import dataclass, field
# from typing import List, Dict, Optional

# @dataclass
# class AIConfig:
#     """AI model configuration"""
#     primary_provider: str = "anthropic"
#     primary_model: str = "claude-sonnet-4-20250514"
#     fallback_provider: Optional[str] = "openai"
#     fallback_model: Optional[str] = "gpt-4"
#     max_tokens: int = 8000
#     temperature: float = 0.3
#     timeout: int = 120
#     retry_attempts: int = 3
#     retry_delay: int = 5

# @dataclass
# class DocumentationConfig:
#     """Documentation generation settings"""
#     template_path: str = ".github/scripts/templates/doc_template.md"
#     output_dir: str = "docs/sql"
#     metadata_dir: str = "docs/_metadata"
#     include_git_history: bool = True
#     include_dbt_metadata: bool = True
#     include_lineage: bool = True
#     max_context_size: int = 50000
    
# @dataclass
# class BusinessDocsConfig:
#     """Business documentation settings"""
#     docs_dir: str = "business_docs"
#     glossary_path: str = "business_docs/glossary.md"
#     include_patterns: List[str] = field(default_factory=lambda: ["*.md", "*.txt"])
#     exclude_patterns: List[str] = field(default_factory=lambda: ["README.md"])

# @dataclass
# class ValidationConfig:
#     """Validation settings"""
#     min_quality_score: int = 70
#     require_business_context: bool = True
#     require_schema_docs: bool = True
#     check_broken_links: bool = True
#     lint_markdown: bool = True

# @dataclass
# class NotificationConfig:
#     """Notification settings"""
#     enable_pr_comments: bool = True
#     enable_slack: bool = True
#     enable_email: bool = False
#     slack_webhook_url: Optional[str] = None
#     email_recipients: List[str] = field(default_factory=list)

# @dataclass
# class CacheConfig:
#     """Caching configuration"""
#     enabled: bool = True
#     cache_dir: str = ".cache/doc_generator"
#     ttl_hours: int = 24
#     cache_business_docs: bool = True
#     cache_dbt_metadata: bool = True

# @dataclass
# class Config:
#     """Main configuration class"""
#     ai: AIConfig = field(default_factory=AIConfig)
#     documentation: DocumentationConfig = field(default_factory=DocumentationConfig)
#     business_docs: BusinessDocsConfig = field(default_factory=BusinessDocsConfig)
#     validation: ValidationConfig = field(default_factory=ValidationConfig)
#     notifications: NotificationConfig = field(default_factory=NotificationConfig)
#     cache: CacheConfig = field(default_factory=CacheConfig)
    
#     @classmethod
#     def from_yaml(cls, path: str) -> 'Config':
#         """Load configuration from YAML file"""
#         with open(path, 'r') as f:
#             data = yaml.safe_load(f)
        
#         return cls(
#             ai=AIConfig(**data.get('ai', {})),
#             documentation=DocumentationConfig(**data.get('documentation', {})),
#             business_docs=BusinessDocsConfig(**data.get('business_docs', {})),
#             validation=ValidationConfig(**data.get('validation', {})),
#             notifications=NotificationConfig(**data.get('notifications', {})),
#             cache=CacheConfig(**data.get('cache', {}))
#         )
    
#     @classmethod
#     def from_env(cls) -> 'Config':
#         """Load configuration from environment variables"""
#         config = cls()
        
#         # Override with environment variables
#         if api_key := os.getenv('ANTHROPIC_API_KEY'):
#             config.ai.primary_provider = 'anthropic'
#         elif api_key := os.getenv('OPENAI_API_KEY'):
#             config.ai.primary_provider = 'openai'
        
#         if slack_webhook := os.getenv('SLACK_WEBHOOK_URL'):
#             config.notifications.slack_webhook_url = slack_webhook
#             config.notifications.enable_slack = True
        
#         return config

# def load_config(config_path: Optional[str] = None) -> Config:
#     """Load configuration from file or environment"""
#     if config_path and Path(config_path).exists():
#         return Config.from_yaml(config_path)
    
#     # Try default location
#     default_path = Path('.github/config/doc-generator-config.yml')
#     if default_path.exists():
#         return Config.from_yaml(str(default_path))
    
#     # Fall back to environment-based config
#     return Config.from_env()
# .github/scripts/doc_generator/context_gatherer.py
# pythonimport os
# import json
# import subprocess
# from pathlib import Path
# from typing import Dict, List, Optional, Any
# from dataclasses import dataclass
# import yaml

# @dataclass
# class SQLContext:
#     """Context information for a SQL file"""
#     file_path: str
#     sql_content: str
#     dbt_metadata: Optional[Dict] = None
#     git_history: Optional[Dict] = None
#     dependencies: List[str] = None
#     business_docs: List[Dict] = None
#     lineage: Optional[Dict] = None

# class ContextGatherer:
#     """Gathers all context needed for documentation generation"""
    
#     def __init__(self, config):
#         self.config = config
#         self.business_docs_cache = None
    
#     def gather_context(self, sql_file_path: str) -> SQLContext:
#         """Gather all context for a SQL file"""
        
#         context = SQLContext(
#             file_path=sql_file_path,
#             sql_content=self._read_sql_file(sql_file_path),
#             dependencies=[]
#         )
        
#         if self.config.documentation.include_dbt_metadata:
#             context.dbt_metadata = self._get_dbt_metadata(sql_file_path)
#             context.dependencies = self._get_dependencies(sql_file_path)
        
#         if self.config.documentation.include_git_history:
#             context.git_history = self._get_git_history(sql_file_path)
        
#         if self.config.documentation.include_lineage:
#             context.lineage = self._get_lineage(sql_file_path)
        
#         context.business_docs = self._get_relevant_business_docs(context)
        
#         return context
    
#     def _read_sql_file(self, file_path: str) -> str:
#         """Read SQL file content"""
#         with open(file_path, 'r', encoding='utf-8') as f:
#             return f.read()
    
#     def _get_dbt_metadata(self, sql_file_path: str) -> Dict:
#         """Extract dbt model metadata"""
#         try:
#             # Parse dbt project
#             result = subprocess.run(
#                 ['dbt', 'ls', '--select', self._get_model_name(sql_file_path), '--output', 'json'],
#                 capture_output=True,
#                 text=True,
#                 check=True
#             )
            
#             if result.stdout:
#                 lines = result.stdout.strip().split('\n')
#                 for line in lines:
#                     if line:
#                         metadata = json.loads(line)
#                         return metadata
#         except Exception as e:
#             print(f"Warning: Could not get dbt metadata: {e}")
        
#         return {}
    
#     def _get_model_name(self, sql_file_path: str) -> str:
#         """Extract model name from file path"""
#         return Path(sql_file_path).stem
    
#     def _get_dependencies(self, sql_file_path: str) -> List[str]:
#         """Extract model dependencies from SQL"""
#         dependencies = []
#         sql_content = self._read_sql_file(sql_file_path)
        
#         # Simple regex-based extraction (can be enhanced with sqlparse)
#         import re
        
#         # Find ref() calls
#         ref_pattern = r"ref\(['\"]([^'\"]+)['\"]\)"
#         dependencies.extend(re.findall(ref_pattern, sql_content))
        
#         # Find source() calls
#         source_pattern = r"source\(['\"]([^'\"]+)['\"],\s*['\"]([^'\"]+)['\"]\)"
#         sources = re.findall(source_pattern, sql_content)
#         dependencies.extend([f"{s[0]}.{s[1]}" for s in sources])
        
#         return list(set(dependencies))
    
#     def _get_git_history(self, sql_file_path: str) -> Dict:
#         """Get git history for the file"""
#         try:
#             # Get file history
#             result = subprocess.run(
#                 ['git', 'log', '--follow', '--pretty=format:%H|%an|%ae|%ad|%s', '--date=iso', '-n', '5', sql_file_path],
#                 capture_output=True,
#                 text=True,
#                 check=True
#             )
            
#             commits = []
#             for line in result.stdout.strip().split('\n'):
#                 if line:
#                     parts = line.split('|')
#                     if len(parts) == 5:
#                         commits.append({
#                             'hash': parts[0],
#                             'author': parts[1],
#                             'email': parts[2],
#                             'date': parts[3],
#                             'message': parts[4]
#                         })
            
#             # Get current PR context if available
#             pr_number = os.getenv('PR_NUMBER')
#             pr_context = None
#             if pr_number:
#                 pr_context = {
#                     'number': pr_number,
#                     'author': os.getenv('ACTOR'),
#                     'url': f"https://github.com/{os.getenv('REPOSITORY')}/pull/{pr_number}"
#                 }
            
#             return {
#                 'commits': commits,
#                 'pr_context': pr_context
#             }
#         except Exception as e:
#             print(f"Warning: Could not get git history: {e}")
#             return {}
    
#     def _get_lineage(self, sql_file_path: str) -> Dict:
#         """Get data lineage information"""
#         try:
#             # Use dbt docs generate to get lineage
#             # This is a simplified version - you might want to use dbt's manifest.json
#             model_name = self._get_model_name(sql_file_path)
            
#             result = subprocess.run(
#                 ['dbt', 'ls', '--select', f'+{model_name}+', '--output', 'json'],
#                 capture_output=True,
#                 text=True,
#                 check=True
#             )
            
#             upstream = []
#             downstream = []
            
#             if result.stdout:
#                 for line in result.stdout.strip().split('\n'):
#                     if line:
#                         node = json.loads(line)
#                         node_name = node.get('name')
#                         if node_name and node_name != model_name:
#                             # Simplified - would need more logic to determine up vs downstream
#                             upstream.append(node_name)
            
#             return {
#                 'upstream': upstream,
#                 'downstream': downstream
#             }
#         except Exception as e:
#             print(f"Warning: Could not get lineage: {e}")
#             return {}
    
#     def _get_relevant_business_docs(self, context: SQLContext) -> List[Dict]:
#         """Find relevant business documentation"""
#         if self.business_docs_cache is None:
#             self.business_docs_cache = self._load_all_business_docs()
        
#         relevant_docs = []
        
#         # Extract keywords from SQL and model name
#         keywords = self._extract_keywords(context)
        
#         # Find matching business docs
#         for doc in self.business_docs_cache:
#             doc_content_lower = doc['content'].lower()
#             relevance_score = sum(1 for keyword in keywords if keyword.lower() in doc_content_lower)
            
#             if relevance_score > 0:
#                 relevant_docs.append({
#                     **doc,
#                     'relevance_score': relevance_score
#                 })
        
#         # Sort by relevance
#         relevant_docs.sort(key=lambda x: x['relevance_score'], reverse=True)
        
#         return relevant_docs[:10]  # Top 10 most relevant
    
#     def _load_all_business_docs(self) -> List[Dict]:
#         """Load all business documentation"""
#         docs = []
#         docs_dir = Path(self.config.business_docs.docs_dir)
        
#         if not docs_dir.exists():
#             return docs
        
#         for pattern in self.config.business_docs.include_patterns:
#             for doc_file in docs_dir.rglob(pattern):
#                 # Skip excluded files
#                 if any(doc_file.match(exclude) for exclude in self.config.business_docs.exclude_patterns):
#                     continue
                
#                 try:
#                     with open(doc_file, 'r', encoding='utf-8') as f:
#                         content = f.read()
                    
#                     docs.append({
#                         'path': str(doc_file.relative_to(docs_dir)),
#                         'filename': doc_fileContinueJan 15python                        'filename': doc_file.name,
#                         'content': content,
#                         'category': doc_file.parent.name
#                     })
#                 except Exception as e:
#                     print(f"Warning: Could not read {doc_file}: {e}")
        
#         return docs
    
#     def _extract_keywords(self, context: SQLContext) -> List[str]:
#         """Extract relevant keywords from context"""
#         keywords = []
        
#         # Add model name and variations
#         model_name = self._get_model_name(context.file_path)
#         keywords.append(model_name)
#         keywords.extend(model_name.split('_'))
        
#         # Add dependencies
#         if context.dependencies:
#             keywords.extend(context.dependencies)
        
#         # Extract table names from SQL
#         import re
#         table_pattern = r'\b(?:from|join)\s+([a-zA-Z_][a-zA-Z0-9_\.]*)'
#         tables = re.findall(table_pattern, context.sql_content.lower())
#         keywords.extend(tables)
        
#         return list(set(keywords))
# .github/scripts/doc_generator/ai_generator.py
# pythonimport anthropic
# import openai
# import time
# from typing import Dict, Optional
# from dataclasses import dataclass

# @dataclass
# class GenerationResult:
#     """Result of documentation generation"""
#     content: str
#     model_used: str
#     tokens_used: int
#     generation_time: float
#     success: bool
#     error: Optional[str] = None

# class AIDocGenerator:
#     """AI-powered documentation generator with fallback support"""
    
#     def __init__(self, config):
#         self.config = config
#         self.anthropic_client = None
#         self.openai_client = None
        
#         # Initialize clients
#         if self.config.ai.primary_provider == "anthropic":
#             self.anthropic_client = anthropic.Anthropic(
#                 api_key=os.environ.get("ANTHROPIC_API_KEY")
#             )
#         elif self.config.ai.primary_provider == "openai":
#             self.openai_client = openai.OpenAI(
#                 api_key=os.environ.get("OPENAI_API_KEY")
#             )
        
#         # Initialize fallback if configured
#         if self.config.ai.fallback_provider == "anthropic" and not self.anthropic_client:
#             self.anthropic_client = anthropic.Anthropic(
#                 api_key=os.environ.get("ANTHROPIC_API_KEY")
#             )
#         elif self.config.ai.fallback_provider == "openai" and not self.openai_client:
#             self.openai_client = openai.OpenAI(
#                 api_key=os.environ.get("OPENAI_API_KEY")
#             )
    
#     def generate_documentation(self, context) -> GenerationResult:
#         """Generate documentation with automatic fallback"""
        
#         # Try primary provider
#         result = self._generate_with_provider(
#             context,
#             self.config.ai.primary_provider,
#             self.config.ai.primary_model
#         )
        
#         if result.success:
#             return result
        
#         # Try fallback if configured
#         if self.config.ai.fallback_provider:
#             print(f"Primary generation failed, trying fallback: {self.config.ai.fallback_provider}")
#             result = self._generate_with_provider(
#                 context,
#                 self.config.ai.fallback_provider,
#                 self.config.ai.fallback_model
#             )
        
#         return result
    
#     def _generate_with_provider(self, context, provider: str, model: str) -> GenerationResult:
#         """Generate documentation using specific provider"""
        
#         for attempt in range(self.config.ai.retry_attempts):
#             try:
#                 start_time = time.time()
                
#                 if provider == "anthropic":
#                     result = self._generate_with_anthropic(context, model)
#                 elif provider == "openai":
#                     result = self._generate_with_openai(context, model)
#                 else:
#                     return GenerationResult(
#                         content="",
#                         model_used=model,
#                         tokens_used=0,
#                         generation_time=0,
#                         success=False,
#                         error=f"Unknown provider: {provider}"
#                     )
                
#                 generation_time = time.time() - start_time
                
#                 return GenerationResult(
#                     content=result['content'],
#                     model_used=model,
#                     tokens_used=result['tokens'],
#                     generation_time=generation_time,
#                     success=True
#                 )
                
#             except Exception as e:
#                 print(f"Attempt {attempt + 1} failed: {e}")
#                 if attempt < self.config.ai.retry_attempts - 1:
#                     time.sleep(self.config.ai.retry_delay)
#                 else:
#                     return GenerationResult(
#                         content="",
#                         model_used=model,
#                         tokens_used=0,
#                         generation_time=0,
#                         success=False,
#                         error=str(e)
#                     )
    
#     def _generate_with_anthropic(self, context, model: str) -> Dict:
#         """Generate using Anthropic Claude"""
        
#         prompt = self._build_prompt(context)
        
#         message = self.anthropic_client.messages.create(
#             model=model,
#             max_tokens=self.config.ai.max_tokens,
#             temperature=self.config.ai.temperature,
#             messages=[{"role": "user", "content": prompt}]
#         )
        
#         return {
#             'content': message.content[0].text,
#             'tokens': message.usage.input_tokens + message.usage.output_tokens
#         }
    
#     def _generate_with_openai(self, context, model: str) -> Dict:
#         """Generate using OpenAI"""
        
#         prompt = self._build_prompt(context)
        
#         response = self.openai_client.chat.completions.create(
#             model=model,
#             messages=[
#                 {"role": "system", "content": "You are a technical documentation expert specializing in data engineering and SQL."},
#                 {"role": "user", "content": prompt}
#             ],
#             max_tokens=self.config.ai.max_tokens,
#             temperature=self.config.ai.temperature
#         )
        
#         return {
#             'content': response.choices[0].message.content,
#             'tokens': response.usage.total_tokens
#         }
    
#     def _build_prompt(self, context) -> str:
#         """Build comprehensive prompt from context"""
        
#         prompt_parts = [
#             "You are a technical documentation expert. Generate comprehensive developer documentation for the following dbt SQL model.",
#             "",
#             "# SQL Model Information",
#             f"**File Path**: {context.file_path}",
#             f"**Model Name**: {Path(context.file_path).stem}",
#             ""
#         ]
        
#         # Add SQL code
#         prompt_parts.extend([
#             "# SQL Code",
#             "```sql",
#             context.sql_content,
#             "```",
#             ""
#         ])
        
#         # Add dbt metadata
#         if context.dbt_metadata:
#             prompt_parts.extend([
#                 "# dbt Metadata",
#                 f"```json",
#                 json.dumps(context.dbt_metadata, indent=2),
#                 "```",
#                 ""
#             ])
        
#         # Add dependencies
#         if context.dependencies:
#             prompt_parts.extend([
#                 "# Dependencies",
#                 "This model depends on:",
#                 *[f"- {dep}" for dep in context.dependencies],
#                 ""
#             ])
        
#         # Add lineage
#         if context.lineage:
#             prompt_parts.extend([
#                 "# Data Lineage",
#                 f"**Upstream models**: {', '.join(context.lineage.get('upstream', []))}",
#                 f"**Downstream models**: {', '.join(context.lineage.get('downstream', []))}",
#                 ""
#             ])
        
#         # Add business documentation
#         if context.business_docs:
#             prompt_parts.extend([
#                 "# Related Business Documentation",
#                 ""
#             ])
#             for doc in context.business_docs[:5]:  # Top 5 most relevant
#                 prompt_parts.extend([
#                     f"## {doc['filename']} (Relevance: {doc['relevance_score']})",
#                     doc['content'][:2000],  # Truncate to avoid token limits
#                     ""
#                 ])
        
#         # Add git context
#         if context.git_history:
#             commits = context.git_history.get('commits', [])
#             if commits:
#                 prompt_parts.extend([
#                     "# Recent Changes",
#                     *[f"- {commit['date']}: {commit['message']} (by {commit['author']})" 
#                       for commit in commits[:3]],
#                     ""
#                 ])
            
#             pr_context = context.git_history.get('pr_context')
#             if pr_context:
#                 prompt_parts.extend([
#                     f"# Current Pull Request",
#                     f"PR #{pr_context['number']} by {pr_context['author']}",
#                     ""
#                 ])
        
#         # Add generation instructions
#         prompt_parts.extend([
#             "# Documentation Requirements",
#             "",
#             "Generate comprehensive documentation in Markdown format with the following sections:",
#             "",
#             "1. **Overview** (2-3 sentences)",
#             "   - What this model does",
#             "   - Its purpose in the data pipeline",
#             "",
#             "2. **Business Context**",
#             "   - How it relates to business requirements",
#             "   - Key business metrics or KPIs it supports",
#             "   - Reference relevant business documentation",
#             "",
#             "3. **Data Model**",
#             "   - Source tables and models",
#             "   - Output schema with column descriptions",
#             "   - Data types and constraints",
#             "",
#             "4. **Transformation Logic**",
#             "   - Step-by-step explanation of the SQL logic",
#             "   - Any complex calculations or business rules",
#             "   - Filtering and aggregation logic",
#             "",
#             "5. **Dependencies**",
#             "   - Upstream dependencies (what it reads from)",
#             "   - Downstream dependencies (what reads from it)",
#             "   - External data sources",
#             "",
#             "6. **Usage Guidelines**",
#             "   - How other developers should use this model",
#             "   - Common query patterns",
#             "   - Performance considerations",
#             "",
#             "7. **Data Quality & Testing**",
#             "   - Data quality expectations",
#             "   - Suggested tests",
#             "   - Known limitations or edge cases",
#             "",
#             "8. **Maintenance Notes**",
#             "   - Refresh schedule (if applicable)",
#             "   - Known issues or technical debt",
#             "   - Recent changes and why",
#             "",
#             "Format the documentation professionally with proper Markdown syntax.",
#             "Use tables where appropriate for schema documentation.",
#             "Be specific and technical, but also accessible to new team members.",
#             "Include code examples where helpful."
#         ])
        
#         return "\n".join(prompt_parts)
# .github/scripts/doc_generator/validators.py
# pythonimport re
# from pathlib import Path
# from typing import List, Dict, Tuple
# from dataclasses import dataclass

# @dataclass
# class ValidationResult:
#     """Result of documentation validation"""
#     passed: bool
#     score: int
#     issues: List[str]
#     warnings: List[str]
#     metrics: Dict

# class DocumentationValidator:
#     """Validates generated documentation quality"""
    
#     def __init__(self, config):
#         self.config = config
    
#     def validate(self, doc_path: str, context) -> ValidationResult:
#         """Comprehensive validation of generated documentation"""
        
#         with open(doc_path, 'r', encoding='utf-8') as f:
#             content = f.read()
        
#         issues = []
#         warnings = []
#         metrics = {}
        
#         # Run all validation checks
#         metrics['length'] = len(content)
#         metrics['sections'] = self._count_sections(content)
        
#         # Check minimum length
#         if metrics['length'] < 500:
#             issues.append("Documentation is too short (< 500 characters)")
        
#         # Check required sections
#         required_sections = [
#             'overview', 'business context', 'data model', 
#             'transformation logic', 'dependencies'
#         ]
#         missing_sections = []
#         for section in required_sections:
#             if not self._has_section(content, section):
#                 missing_sections.append(section)
        
#         if missing_sections:
#             issues.append(f"Missing required sections: {', '.join(missing_sections)}")
        
#         # Check for business context
#         if self.config.validation.require_business_context:
#             if not self._has_business_context(content, context):
#                 warnings.append("Limited business context provided")
        
#         # Check for schema documentation
#         if self.config.validation.require_schema_docs:
#             if not self._has_schema_docs(content):
#                 issues.append("Missing schema/column documentation")
        
#         # Check markdown quality
#         if self.config.validation.lint_markdown:
#             markdown_issues = self._lint_markdown(content)
#             warnings.extend(markdown_issues)
        
#         # Check for broken links
#         if self.config.validation.check_broken_links:
#             broken_links = self._check_links(content, doc_path)
#             if broken_links:
#                 warnings.extend([f"Potentially broken link: {link}" for link in broken_links])
        
#         # Check for code examples
#         code_blocks = self._count_code_blocks(content)
#         metrics['code_blocks'] = code_blocks
#         if code_blocks == 0:
#             warnings.append("No code examples provided")
        
#         # Calculate quality score
#         score = self._calculate_quality_score(metrics, issues, warnings)
        
#         passed = (
#             score >= self.config.validation.min_quality_score and
#             len(issues) == 0
#         )
        
#         return ValidationResult(
#             passed=passed,
#             score=score,
#             issues=issues,
#             warnings=warnings,
#             metrics=metrics
#         )
    
#     def _count_sections(self, content: str) -> int:
#         """Count markdown sections"""
#         return len(re.findall(r'^#{1,3}\s+', content, re.MULTILINE))
    
#     def _has_section(self, content: str, section_name: str) -> bool:
#         """Check if content has a specific section"""
#         pattern = rf'^#{1,3}\s+.*{re.escape(section_name)}.*$'
#         return bool(re.search(pattern, content, re.MULTILINE | re.IGNORECASE))
    
#     def _has_business_context(self, content: str, context) -> bool:
#         """Check if documentation includes business context"""
#         # Look for business-related keywords
#         business_keywords = ['business', 'metric', 'kpi', 'requirement', 'stakeholder']
#         content_lower = content.lower()
        
#         keyword_count = sum(1 for keyword in business_keywords if keyword in content_lower)
        
#         # Check if business docs are referenced
#         if context.business_docs:
#             has_references = any(
#                 doc['filename'].lower() in content_lower 
#                 for doc in context.business_docs[:3]
#             )
#             return keyword_count >= 2 or has_references
        
#         return keyword_count >= 2
    
#     def _has_schema_docs(self, content: str) -> bool:
#         """Check if documentation includes schema information"""
#         # Look for table formatting or column lists
#         has_table = '|' in content and re.search(r'\|.*\|.*\|', content)
#         has_column_list = bool(re.search(r'column|field|attribute', content, re.IGNORECASE))
        
#         return has_table or has_column_list
    
#     def _lint_markdown(self, content: str) -> List[str]:
#         """Basic markdown linting"""
#         issues = []
        
#         lines = content.split('\n')
        
#         for i, line in enumerate(lines, 1):
#             # Check for multiple blank lines
#             if i > 1 and not line.strip() and not lines[i-2].strip():
#                 issues.append(f"Line {i}: Multiple consecutive blank lines")
            
#             # Check for improper heading spacing
#             if line.startswith('#') and i > 1:
#                 if lines[i-2].strip() and not lines[i-2].startswith('#'):
#                     # Should have blank line before heading
#                     pass  # This is actually fine
            
#             # Check for trailing whitespace
#             if line != line.rstrip():
#                 issues.append(f"Line {i}: Trailing whitespace")
        
#         return issues[:10]  # Limit to 10 issues
    
#     def _check_links(self, content: str, doc_path: str) -> List[str]:
#         """Check for broken relative links"""
#         broken = []
#         doc_dir = Path(doc_path).parent
        
#         # Find markdown links
#         link_pattern = r'\[([^\]]+)\]\(([^\)]+)\)'
#         links = re.findall(link_pattern, content)
        
#         for text, url in links:
#             # Skip external links
#             if url.startswith(('http://', 'https://', '#')):
#                 continue
            
#             # Check if relative file exists
#             target_path = doc_dir / url
#             if not target_path.exists():
#                 broken.append(url)
        
#         return broken
    
#     def _count_code_blocks(self, content: str) -> int:
#         """Count code blocks in markdown"""
#         return len(re.findall(r'```[\s\S]*?```', content))
    
#     def _calculate_quality_score(self, metrics: Dict, issues: List, warnings: List) -> int:
#         """Calculate overall quality score (0-100)"""
#         score = 100
        
#         # Deduct for issues
#         score -= len(issues) * 15
#         score -= len(warnings) * 5
        
#         # Bonus for good metrics
#         if metrics.get('length', 0) > 2000:
#             score += 10
#         if metrics.get('sections', 0) >= 6:
#             score += 10
#         if metrics.get('code_blocks', 0) > 0:
#             score += 5
        
#         return max(0, min(100, score))
# .github/scripts/doc_generator/notifiers.py
# pythonimport os
# import json
# import requests
# from typing import Dict, List
# from pathlib import Path

# class NotificationManager:
#     """Manages notifications to various channels"""
    
#     def __init__(self, config):
#         self.config = config
    
#     def send_pr_comment(self, pr_number: int, summary: Dict, docs: List[str]):
#         """Send comment to pull request"""
#         if not self.config.notifications.enable_pr_comments:
#             return
        
#         comment = self._build_pr_comment(summary, docs)
        
#         # This would typically use GitHub API
#         print(f"Would post comment to PR #{pr_number}")
#         print(comment)
    
#     def send_slack_notification(self, summary: Dict, docs: List[str]):
#         """Send notification to Slack"""
#         if not self.config.notifications.enable_slack:
#             return
        
#         webhook_url = self.config.notifications.slack_webhook_url
#         if not webhook_url:
#             print("Slack webhook URL not configured")
#             return
        
#         message = self._build_slack_message(summary, docs)
        
#         try:
#             response = requests.post(
#                 webhook_url,
#                 json=message,
#                 headers={'Content-Type': 'application/json'}
#             )
#             response.raise_for_status()
#             print("Slack notification sent successfully")
#         except Exception as e:
#             print(f"Failed to send Slack notification: {e}")
    
#     def _build_pr_comment(self, summary: Dict, docs: List[str]) -> str:
#         """Build PR comment markdown"""
        
#         lines = [
#             "## ðŸ“š SQL Documentation Generated",
#             "",
#             f"**Generated**: {summary.get('timestamp', 'N/A')}",
#             f"**Total files**: {summary.get('total_files', 0)}",
#             f"**Successful**: {summary.get('successful', 0)}",
#             f"**Failed**: {summary.get('failed', 0)}",
#             "",
#             "### Generated Documentation",
#             ""
#         ]
        
#         for doc in docs:
#             doc_path = Path(doc)
#             lines.append(f"- [{doc_path.name}]({doc})")
        
#         if summary.get('failed', 0) > 0:
#             lines.extend([
#                 "",
#                 "### âš ï¸ Some files failed to generate",
#                 "Please check the action logs for details."
#             ])
        
#         lines.extend([
#             "",
#             "---",
#             "*Automatically generated by SQL Doc Bot*"
#         ])
        
#         return "\n".join(lines)
    
#     def _build_slack_message(self, summary: Dict, docs: List[str]) -> Dict:
#         """Build Slack message payload"""
        
#         status_emoji = "âœ…" if summary.get('failed', 0) == 0 else "âš ï¸"
        
#         blocks = [
#             {
#                 "type": "header",
#                 "text": {
#                     "type": "plain_text",
#                     "text": f"{status_emoji} SQL Documentation Generated"
#                 }
#             },
#             {
#                 "type": "section",
#                 "fields": [
#                     {
#                         "type": "mrkdwn",
#                         "text": f"*Total Files:*\n{summary.get('total_files', 0)}"
#                     },
#                     {
#                         "type": "mrkdwn",
#                         "text": f"*Successful:*\n{summary.get('successful', 0)}"
#                     },
#                     {
#                         "type": "mrkdwn",
#                         "text": f"*Failed:*\n{summary.get('failed', 0)}"
#                     },
#                     {
#                         "type": "mrkdwn",
#                         "text": f"*Avg Quality Score:*\n{summary.get('avg_quality_score', 'N/A')}"
#                     }
#                 ]
#             }
#         ]
        
#         if docs:
#             doc_list = "\n".join([f"â€¢ `{Path(doc).name}`" for doc in docs[:10]])
#             if len(docs) > 10:
#                 doc_list += f"\nâ€¢ ... and {len(docs) - 10} more"
            
#             blocks.append({
#                 "type": "section",
#                 "text": {
#                     "type": "mrkdwn",
#                     "text": f"*Generated Docs:*\n{doc_list}"
#                 }
#             })
        
#         if summary.get('pr_url'):
#             blocks.append({
#                 "type": "section",
#                 "text": {
#                     "type": "mrkdwn",
#                     "text": f"<{summary['pr_url']}|View Pull Request>"
#                 }
#             })
        
#         return {"blocks": blocks}
# .github/scripts/doc_generator/main.py
# python#!/usr/bin/env python3

# import os
# import sys
# import json
# import argparse
# from pathlib import Path
# from datetime import datetime
# from typing import List, Dict

# from config import load_config
# from context_gatherer import ContextGatherer
# from ai_generator import AIDocGenerator
# from validators import DocumentationValidator
# from notifiers import NotificationManager
# from cache_manager import CacheManager

# class DocGeneratorApp:
#     """Main application orchestrator"""
    
#     def __init__(self, config_path: str = None):
#         self.config = load_config(config_path)
#         self.context_gatherer = ContextGatherer(self.config)
#         self.ai_generator = AIDocGenerator(self.config)
#         self.validator = DocumentationValidator(self.config)
#         self.notifier = NotificationManager(self.config)
#         self.cache = CacheManager(self.config)
        
#         # Ensure output directories exist
#         Path(self.config.documentation.output_dir).mkdir(parents=True, exist_ok=True)
#         Path(self.config.documentation.metadata_dir).mkdir(parents=True, exist_ok=True)
    
#     def generate(self, sql_file: str, output_dir: str = None) -> bool:
#         """Generate documentation for a single SQL file"""
        
#         print(f"\n{'='*70}")
#         print(f"Generating documentation for: {sql_file}")
#         print(f"{'='*70}\n")
        
#         try:
#             # Step 1: Gather context
#             print("ðŸ“‹ Gathering context...")
#             context = self.context_gatherer.gather_context(sql_file)
#             print(f"   âœ“ Found {len(context.dependencies)} dependencies")
#             print(f"   âœ“ Found {len(context.business_docs)} relevant business docs")
            
#             # Step 2: Generate documentation
#             print("\nðŸ¤– Generating documentation with AI...")
#             result = self.ai_generator.generate_documentation(context)
            
#             if not result.success:
#                 print(f"   âœ— Generation failed: {result.error}")
#                 return False
            
#             print(f"   âœ“ Generated {len(result.content)} characters")
#             print(f"   âœ“ Used {result.tokens_used} tokens ({result.model_used})")
#             print(f"   âœ“ Took {result.generation_time:.2f}s")
            
#             # Step 3: Save documentation
#             output_path = self._get_output_path(sql_file, output_dir)
#             output_path.parent.mkdir(parents=True, exist_ok=True)
            
#             with open(output_path, 'w', encoding='utf-8') as f:
#                 f.write(result.content)
            
#             print(f"\nðŸ’¾ Saved to: {output_path}")
            
#             # Step 4: Validate
#             print("\nâœ“ Validating documentation...")
#             validation = self.validator.validate(str(output_path), context)
            
#             print(f"   Quality Score: {validation.score}/100")
            
#             if validation.issues:
#                 print(f"   âœ— Issues found:")
#                 for issue in validation.issues:
#                     print(f"      - {issue}")
            
#             if validation.warnings:
#                 print(f"   âš  Warnings:")
#                 for warning in validation.warnings[:5]:
#                     print(f"      - {warning}")
            
#             # Step 5: Save metadata
#             self._save_metadata(sql_file, result, validation)
            
#             if validation.passed:
#                 print(f"\nâœ… Documentation generation successful!")
#             else:
#                 print(f"\nâš ï¸ Documentation generated but failed validation")
            
#             return validation.passed
            
#         except Exception as e:
#             print(f"\nâŒ Error: {e}")
#             import traceback
#             traceback.print_exc()
#             return False
    
#     def validate_config(self) -> bool:
#         """Validate configuration"""
#         print("Validating configuration...")
        
#         issues = []
        
#         # Check API keys
#         if self.config.ai.primary_provider == "anthropic":
#             if not os.getenv('ANTHROPIC_API_KEY'):
#                 issues.append("ANTHROPIC_API_KEY not set")
#         elif self.config.ai.primary_provider == "openai":
#             if not os.getenv('OPENAI_API_KEY'):
#                 issues.append("OPENAI_API_KEY not set")
        
#         # Check directories
#         if not Path(self.config.business_docs.docs_dir).exists():
#             issues.append(f"Business docs directory not found: {self.config.business_docs.docs_dir}")
        
#         if issues:
#             print("âŒ Configuration issues found:")
#             for issue in issues:
#                 print(f"   - {issue}")
#             return False
        
#         print("âœ… Configuration valid")
#         return True
    
#     def generate_index(self, docs_dir: str, output: str):
#         """Generate documentation index"""
#         print(f"Generating documentation index...")
        
#         docs_path = Path(docs_dir)
#         all_docs = list(docs_path.rglob("*.md"))
        
#         index_lines = [
#             "# SQL Documentation Index",
#             "",
#             f"*Last updated: {datetime.now().isoformat()}*",
#             "",
#             f"Total models documented: {len(all_docs)}",
#             ""
#         ]
        
#         # Group by directory
#         by_dir = {}
#         for doc in all_docs:
#             rel_path = doc.relative_to(docs_path)
#             dir_name = str(rel_path.parent) if rel_path.parent != Path('.') else "root"
            
#             if dir_name not in by_dir:
#                 by_dir[dir_name] = []
#             by_dir[dir_name].append(rel_path)
        
#         # Write index
#         for dir_name in sorted(by_dir.keys()):
#             index_lines.append(f"## {dir_name}")
#             index_lines.append("")
#             for doc_path in sorted(by_dir[dir_name]):
#                 model_name = doc_path.stem
#                 index_lines.append(f"- [{model_name}]({doc_path})")
#             index_lines.append("")
        
#         with open(output, 'w') as f:
#             f.write("\n".join(index_lines))
        
#         print(f"âœ… Index generated: {output}")
    
#     def generate_summary(self, metadata_dir: str, output: str):
#         """Generate summary report"""
#         metadata_path = Path(metadata_dir)
#         log_file = metadata_path / "generation_log.json"
        
#         if not log_file.exists():
#             print("No generation log found")
#             return
        
#         with open(log_file, 'r') as f:
#             logs = [json.loads(line) for line in f]
        
#         total = len(logs)
#         successful = sum(1 for log in logs if log.get('validation', {}).get('passed', False))
#         failed = total - successful
        
#         avg_score = sum(log.get('validation', {}).get('score', 0) for log in logs) / total if total > 0 else 0
        
#         summary_lines = [
#             "## ðŸ“Š Documentation Generation Summary",
#             "",
#             f"- **Total files processed**: {total}",
#             f"- **Successful**: {successful} âœ…",
#             f"- **Failed validation**: {failed} âš ï¸",
#             f"- **Average quality score**: {avg_score:.1f}/100",
#             "",
#             "### Generated Documentation",
#             ""
#         ]
        
#         for log in logs:
#             status = "âœ…" if log.get('validation', {}).get('passed') else "âš ï¸"
#             summary_lines.append(f"{status} `{log['file']}`")
        
#         summary_lines.extend([
#             "",
#             "---",
#             "*Generated by SQL Doc Bot*"
#         ])
        
#         with open(output, 'w') as f:
#             f.write("\n".join(summary_lines))
        
#         print(f"âœ… Summary generated: {output}")
    
#     def _get_output_path(self, sql_file: str, output_dir: str = None) -> Path:
#         """Get output path for documentation"""
#         base_dir = Path(output_dir) if output_dir else Path(self.config.documentation.output_dir)
        
#         # Mirror the SQL file structure
#         sql_path = Path(sql_file)
#         if 'models' in sql_path.parts:
#             # Extract path after 'models'
#             idx = sql_path.parts.index('models')
#             rel_path = Path(*sql_path.parts[idx+1:])
#         else:
#             rel_path = sql_path.name
        
#         return base_dir / rel_path.with_suffix('.md')
    
#     def _save_metadata(self, sqlContinueJan 15python    def _save_metadata(self, sql_file: str, result, validation):
#         """Save generation metadata"""
#         metadata_dir = Path(self.config.documentation.metadata_dir)
#         metadata_dir.mkdir(parents=True, exist_ok=True)
        
#         metadata = {
#             'timestamp': datetime.now().isoformat(),
#             'file': sql_file,
#             'model': result.model_used,
#             'tokens': result.tokens_used,
#             'generation_time': result.generation_time,
#             'validation': {
#                 'passed': validation.passed,
#                 'score': validation.score,
#                 'issues': validation.issues,
#                 'warnings': validation.warnings,
#                 'metrics': validation.metrics
#             },
#             'pr_number': os.getenv('PR_NUMBER'),
#             'run_id': os.getenv('RUN_ID'),
#             'actor': os.getenv('ACTOR')
#         }
        
#         # Append to generation log
#         log_file = metadata_dir / 'generation_log.json'
#         with open(log_file, 'a') as f:
#             f.write(json.dumps(metadata) + '\n')
        
#         # Update quality scores
#         scores_file = metadata_dir / 'quality_scores.json'
#         scores = {}
#         if scores_file.exists():
#             with open(scores_file, 'r') as f:
#                 scores = json.load(f)
        
#         scores[sql_file] = {
#             'score': validation.score,
#             'timestamp': metadata['timestamp']
#         }
        
#         with open(scores_file, 'w') as f:
#             json.dump(scores, f, indent=2)

# def main():
#     """Main entry point"""
#     parser = argparse.ArgumentParser(description='SQL Documentation Generator')
#     subparsers = parser.add_subparsers(dest='command', help='Command to run')
    
#     # Generate command
#     gen_parser = subparsers.add_parser('generate', help='Generate documentation')
#     gen_parser.add_argument('--file', required=True, help='SQL file to document')
#     gen_parser.add_argument('--config', help='Config file path')
#     gen_parser.add_argument('--output-dir', help='Output directory')
    
#     # Validate config command
#     subparsers.add_parser('validate-config', help='Validate configuration')
    
#     # Generate index command
#     index_parser = subparsers.add_parser('generate-index', help='Generate documentation index')
#     index_parser.add_argument('--docs-dir', required=True, help='Documentation directory')
#     index_parser.add_argument('--output', required=True, help='Output file')
    
#     # Generate summary command
#     summary_parser = subparsers.add_parser('generate-summary', help='Generate summary report')
#     summary_parser.add_argument('--metadata-dir', required=True, help='Metadata directory')
#     summary_parser.add_argument('--output', required=True, help='Output file')
    
#     # Validate command
#     validate_parser = subparsers.add_parser('validate', help='Validate generated documentation')
#     validate_parser.add_argument('--file', required=True, help='SQL file')
    
#     # Quality check command
#     qc_parser = subparsers.add_parser('quality-check', help='Run quality checks')
#     qc_parser.add_argument('--docs-dir', required=True, help='Documentation directory')
#     qc_parser.add_argument('--min-score', type=int, default=70, help='Minimum quality score')
    
#     args = parser.parse_args()
    
#     if not args.command:
#         parser.print_help()
#         return 1
    
#     # Initialize app
#     config_path = getattr(args, 'config', None)
#     app = DocGeneratorApp(config_path)
    
#     # Execute command
#     if args.command == 'generate':
#         success = app.generate(args.file, args.output_dir)
#         return 0 if success else 1
    
#     elif args.command == 'validate-config':
#         success = app.validate_config()
#         return 0 if success else 1
    
#     elif args.command == 'generate-index':
#         app.generate_index(args.docs_dir, args.output)
#         return 0
    
#     elif args.command == 'generate-summary':
#         app.generate_summary(args.metadata_dir, args.output)
#         return 0
    
#     elif args.command == 'validate':
#         context = app.context_gatherer.gather_context(args.file)
#         doc_path = app._get_output_path(args.file)
#         validation = app.validator.validate(str(doc_path), context)
        
#         print(f"Validation Score: {validation.score}/100")
#         print(f"Passed: {validation.passed}")
        
#         return 0 if validation.passed else 1
    
#     elif args.command == 'quality-check':
#         # Check all docs in directory
#         docs_dir = Path(args.docs_dir)
#         all_docs = list(docs_dir.rglob("*.md"))
        
#         failed = []
#         for doc in all_docs:
#             # Load corresponding context
#             sql_file = str(doc.relative_to(docs_dir).with_suffix('.sql'))
#             sql_file = f"models/{sql_file}"
            
#             if Path(sql_file).exists():
#                 context = app.context_gatherer.gather_context(sql_file)
#                 validation = app.validator.validate(str(doc), context)
                
#                 if validation.score < args.min_score:
#                     failed.append((doc, validation.score))
        
#         if failed:
#             print(f"âŒ {len(failed)} documents failed quality check:")
#             for doc, score in failed:
#                 print(f"   - {doc}: {score}/100")
#             return 1
#         else:
#             print(f"âœ… All {len(all_docs)} documents passed quality check")
#             return 0
    
#     return 0

# if __name__ == '__main__':
#     sys.exit(main())
# .github/scripts/doc_generator/cache_manager.py
# pythonimport os
# import json
# import hashlib
# from pathlib import Path
# from datetime import datetime, timedelta
# from typing import Optional, Any

# class CacheManager:
#     """Manages caching of expensive operations"""
    
#     def __init__(self, config):
#         self.config = config
#         self.cache_dir = Path(config.cache.cache_dir)
        
#         if config.cache.enabled:
#             self.cache_dir.mkdir(parents=True, exist_ok=True)
    
#     def get(self, key: str) -> Optional[Any]:
#         """Get cached value"""
#         if not self.config.cache.enabled:
#             return None
        
#         cache_file = self._get_cache_file(key)
        
#         if not cache_file.exists():
#             return None
        
#         # Check TTL
#         modified_time = datetime.fromtimestamp(cache_file.stat().st_mtime)
#         ttl = timedelta(hours=self.config.cache.ttl_hours)
        
#         if datetime.now() - modified_time > ttl:
#             cache_file.unlink()
#             return None
        
#         try:
#             with open(cache_file, 'r') as f:
#                 return json.load(f)
#         except Exception as e:
#             print(f"Cache read error: {e}")
#             return None
    
#     def set(self, key: str, value: Any):
#         """Set cached value"""
#         if not self.config.cache.enabled:
#             return
        
#         cache_file = self._get_cache_file(key)
        
#         try:
#             with open(cache_file, 'w') as f:
#                 json.dump(value, f)
#         except Exception as e:
#             print(f"Cache write error: {e}")
    
#     def clear(self):
#         """Clear all cache"""
#         if not self.config.cache.enabled:
#             return
        
#         for cache_file in self.cache_dir.glob('*.json'):
#             cache_file.unlink()
    
#     def _get_cache_file(self, key: str) -> Path:
#         """Get cache file path for key"""
#         # Hash the key to create a safe filename
#         key_hash = hashlib.md5(key.encode()).hexdigest()
#         return self.cache_dir / f"{key_hash}.json"

# 4. Configuration Files
# .github/config/doc-generator-config.yml
# yaml# AI Configuration
# ai:
#   primary_provider: "anthropic"
#   primary_model: "claude-sonnet-4-20250514"
#   fallback_provider: "openai"
#   fallback_model: "gpt-4"
#   max_tokens: 8000
#   temperature: 0.3
#   timeout: 120
#   retry_attempts: 3
#   retry_delay: 5

# # Documentation Settings
# documentation:
#   template_path: ".github/scripts/templates/doc_template.md"
#   output_dir: "docs/sql"
#   metadata_dir: "docs/_metadata"
#   include_git_history: true
#   include_dbt_metadata: true
#   include_lineage: true
#   max_context_size: 50000

# # Business Documentation
# business_docs:
#   docs_dir: "business_docs"
#   glossary_path: "business_docs/glossary.md"
#   include_patterns:
#     - "*.md"
#     - "*.txt"
#   exclude_patterns:
#     - "README.md"
#     - "TEMPLATE.md"

# # Validation Settings
# validation:
#   min_quality_score: 70
#   require_business_context: true
#   require_schema_docs: true
#   check_broken_links: true
#   lint_markdown: true

# # Notifications
# notifications:
#   enable_pr_comments: true
#   enable_slack: true
#   enable_email: false
#   slack_webhook_url: null  # Set via SLACK_WEBHOOK_URL env var
#   email_recipients: []

# # Caching
# cache:
#   enabled: true
#   cache_dir: ".cache/doc_generator"
#   ttl_hours: 24
#   cache_business_docs: true
#   cache_dbt_metadata: true
# ```

# **.github/scripts/requirements.txt**
# ```
# anthropic>=0.18.0
# openai>=1.0.0
# pyyaml>=6.0
# requests>=2.31.0
# gitpython>=3.1.0
# sqlparse>=0.4.0
# markdown>=3.5.0
# .github/scripts/templates/doc_template.md
# markdown# {{ model_name }}

# *Generated: {{ timestamp }}*  
# *Model Path: `{{ file_path }}`*

# ## Overview

# {{ overview }}

# ## Business Context

# {{ business_context }}

# ## Data Model

# ### Source Tables

# {{ source_tables }}

# ### Output Schema

# | Column Name | Data Type | Description | Nullable |
# |-------------|-----------|-------------|----------|
# {{ schema_table }}

# ## Transformation Logic

# {{ transformation_logic }}

# ## Dependencies

# ### Upstream Dependencies
# {{ upstream_dependencies }}

# ### Downstream Dependencies
# {{ downstream_dependencies }}

# ## Usage Guidelines

# {{ usage_guidelines }}

# ## Data Quality & Testing

# {{ data_quality }}

# ## Maintenance Notes

# {{ maintenance_notes }}

# ---

# *Last Updated: {{ timestamp }}*  
# *Quality Score: {{ quality_score }}/100*
# .github/scripts/templates/pr_comment.md
# markdown## ðŸ“š SQL Documentation Generated

# **Generated**: {{ timestamp }}  
# **Total files**: {{ total_files }}  
# **Successful**: {{ successful }} âœ…  
# **Failed**: {{ failed }} âš ï¸  
# **Average Quality Score**: {{ avg_quality_score }}/100

# ### Generated Documentation

# {{ doc_list }}

# ### Quality Metrics

# - **Total Sections**: {{ total_sections }}
# - **Total Characters**: {{ total_characters }}
# - **Code Examples**: {{ code_examples }}

# {% if failed > 0 %}
# ### âš ï¸ Failed Generations

# {{ failed_list }}

# Please check the action logs for details.
# {% endif %}

# ### Next Steps

# 1. Review the generated documentation
# 2. Update any sections that need refinement
# 3. Ensure business context is accurate

# ---

# *Automatically generated by [SQL Doc Bot]({{ workflow_url }})*

# 5. Additional Workflows
# .github/workflows/doc-validator.yml
# yamlname: Documentation Validator

# on:
#   pull_request:
#     paths:
#       - 'docs/sql/**/*.md'
#   workflow_dispatch:

# jobs:
#   validate:
#     name: Validate Documentation Quality
#     runs-on: ubuntu-latest
    
#     steps:
#       - name: Checkout
#         uses: actions/checkout@v4
      
#       - name: Setup Python
#         uses: actions/setup-python@v5
#         with:
#           python-version: '3.11'
      
#       - name: Install dependencies
#         run: pip install -r .github/scripts/requirements.txt
      
#       - name: Run quality checks
#         run: |
#           python .github/scripts/doc_generator/main.py quality-check \
#             --docs-dir docs/sql \
#             --min-score 70
      
#       - name: Generate quality report
#         if: always()
#         run: |
#           python .github/scripts/doc_generator/main.py quality-report \
#             --output quality-report.md
      
#       - name: Upload report
#         if: always()
#         uses: actions/upload-artifact@v4
#         with:
#           name: quality-report
#           path: quality-report.md
# .github/workflows/scheduled-doc-refresh.yml
# yamlname: Scheduled Documentation Refresh

# on:
#   schedule:
#     - cron: '0 2 * * 0'  # Weekly on Sunday at 2 AM
#   workflow_dispatch:
#     inputs:
#       scope:
#         description: 'Scope of refresh'
#         required: true
#         default: 'changed-only'
#         type: choice
#         options:
#           - all
#           - changed-only
#           - outdated-only

# jobs:
#   refresh:
#     name: Refresh Documentation
#     runs-on: ubuntu-latest
#     permissions:
#       contents: write
    
#     steps:
#       - name: Checkout
#         uses: actions/checkout@v4
#         with:
#           fetch-depth: 0
      
#       - name: Setup Python
#         uses: actions/setup-python@v5
#         with:
#           python-version: '3.11'
      
#       - name: Install dependencies
#         run: pip install -r .github/scripts/requirements.txt
      
#       - name: Find outdated documentation
#         id: find-outdated
#         run: |
#           # Find SQL files modified in last 7 days
#           FILES=$(find models -name "*.sql" -type f -mtime -7)
#           echo "files=$FILES" >> $GITHUB_OUTPUT
      
#       - name: Regenerate documentation
#         env:
#           ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
#         run: |
#           for file in ${{ steps.find-outdated.outputs.files }}; do
#             python .github/scripts/doc_generator/main.py generate \
#               --file "$file" \
#               --config .github/config/doc-generator-config.yml
#           done
      
#       - name: Commit changes
#         run: |
#           git config user.name "SQL Doc Bot"
#           git config user.email "bot@github-actions"
#           git add docs/
#           git diff --cached --quiet || git commit -m "ðŸ”„ Scheduled documentation refresh"
#           git push

# 6. Monitoring & Analytics
# .github/scripts/doc_generator/analytics.py
# pythonimport json
# from pathlib import Path
# from datetime import datetime, timedelta
# from typing import Dict, List
# from collections import defaultdict

# class AnalyticsCollector:
#     """Collect and analyze documentation metrics"""
    
#     def __init__(self, metadata_dir: str):
#         self.metadata_dir = Path(metadata_dir)
    
#     def generate_report(self) -> Dict:
#         """Generate comprehensive analytics report"""
        
#         logs = self._load_logs()
        
#         return {
#             'overview': self._overview_stats(logs),
#             'quality_trends': self._quality_trends(logs),
#             'model_usage': self._model_usage(logs),
#             'cost_estimate': self._cost_estimate(logs),
#             'top_performers': self._top_performers(logs),
#             'needs_improvement': self._needs_improvement(logs)
#         }
    
#     def _load_logs(self) -> List[Dict]:
#         """Load all generation logs"""
#         log_file = self.metadata_dir / 'generation_log.json'
        
#         if not log_file.exists():
#             return []
        
#         logs = []
#         with open(log_file, 'r') as f:
#             for line in f:
#                 logs.append(json.loads(line))
        
#         return logs
    
#     def _overview_stats(self, logs: List[Dict]) -> Dict:
#         """Calculate overview statistics"""
#         total = len(logs)
#         if total == 0:
#             return {}
        
#         successful = sum(1 for log in logs if log.get('validation', {}).get('passed', False))
#         avg_score = sum(log.get('validation', {}).get('score', 0) for log in logs) / total
#         avg_tokens = sum(log.get('tokens', 0) for log in logs) / total
#         avg_time = sum(log.get('generation_time', 0) for log in logs) / total
        
#         return {
#             'total_generated': total,
#             'successful': successful,
#             'success_rate': successful / total * 100,
#             'avg_quality_score': avg_score,
#             'avg_tokens_used': avg_tokens,
#             'avg_generation_time': avg_time
#         }
    
#     def _quality_trends(self, logs: List[Dict]) -> Dict:
#         """Analyze quality trends over time"""
#         by_date = defaultdict(list)
        
#         for log in logs:
#             date = datetime.fromisoformat(log['timestamp']).date()
#             score = log.get('validation', {}).get('score', 0)
#             by_date[date].append(score)
        
#         trends = {}
#         for date, scores in sorted(by_date.items()):
#             trends[str(date)] = {
#                 'avg_score': sum(scores) / len(scores),
#                 'count': len(scores)
#             }
        
#         return trends
    
#     def _model_usage(self, logs: List[Dict]) -> Dict:
#         """Analyze AI model usage"""
#         usage = defaultdict(int)
#         tokens = defaultdict(int)
        
#         for log in logs:
#             model = log.get('model', 'unknown')
#             usage[model] += 1
#             tokens[model] += log.get('tokens', 0)
        
#         return {
#             model: {
#                 'count': count,
#                 'total_tokens': tokens[model],
#                 'avg_tokens': tokens[model] / count
#             }
#             for model, count in usage.items()
#         }
    
#     def _cost_estimate(self, logs: List[Dict]) -> Dict:
#         """Estimate API costs"""
#         # Simplified cost calculation
#         # Actual costs depend on your API pricing
        
#         total_tokens = sum(log.get('tokens', 0) for log in logs)
        
#         # Rough estimates (adjust based on actual pricing)
#         cost_per_1k_tokens = {
#             'claude-sonnet-4-20250514': 0.015,  # Example rate
#             'gpt-4': 0.03  # Example rate
#         }
        
#         estimated_cost = 0
#         for log in logs:
#             model = log.get('model', '')
#             tokens = log.get('tokens', 0)
#             rate = cost_per_1k_tokens.get(model, 0.02)
#             estimated_cost += (tokens / 1000) * rate
        
#         return {
#             'total_tokens': total_tokens,
#             'estimated_cost_usd': round(estimated_cost, 2)
#         }
    
#     def _top_performers(self, logs: List[Dict]) -> List[Dict]:
#         """Find top quality documentation"""
#         scored_docs = [
#             {
#                 'file': log['file'],
#                 'score': log.get('validation', {}).get('score', 0),
#                 'timestamp': log['timestamp']
#             }
#             for log in logs
#         ]
        
#         scored_docs.sort(key=lambda x: x['score'], reverse=True)
#         return scored_docs[:10]
    
#     def _needs_improvement(self, logs: List[Dict]) -> List[Dict]:
#         """Find documentation needing improvement"""
#         low_quality = [
#             {
#                 'file': log['file'],
#                 'score': log.get('validation', {}).get('score', 0),
#                 'issues': log.get('validation', {}).get('issues', [])
#             }
#             for log in logs
#             if log.get('validation', {}).get('score', 100) < 70
#         ]
        
#         low_quality.sort(key=lambda x: x['score'])
#         return low_quality[:10]

# 7. Setup & Deployment Guide
# SETUP.md
# markdown# SQL Documentation Generator Setup Guide

# ## Prerequisites

# - GitHub repository with dbt project
# - Anthropic API key (or OpenAI API key)
# - GitHub Actions enabled
# - Python 3.11+

# ## Installation Steps

# ### 1. Repository Setup
# ```bash
# # Clone your repository
# git clone 
# cd 

# # Create required directories
# mkdir -p .github/workflows
# mkdir -p .github/scripts/doc_generator
# mkdir -p .github/scripts/templates
# mkdir -p .github/config
# mkdir -p business_docs
# mkdir -p docs/sql
# mkdir -p docs/_metadata
# ```

# ### 2. Add Files

# Copy all the files from the architecture:
# - Workflows â†’ `.github/workflows/`
# - Python scripts â†’ `.github/scripts/doc_generator/`
# - Templates â†’ `.github/scripts/templates/`
# - Config â†’ `.github/config/`

# ### 3. Configure Secrets

# Add these secrets to your GitHub repository:
# - `Settings` â†’ `Secrets and variables` â†’ `Actions` â†’ `New repository secret`

# Required secrets:
# - `ANTHROPIC_API_KEY`: Your Anthropic API key
# - `SLACK_WEBHOOK_URL` (optional): For Slack notifications

# ### 4. Configure Settings

# Edit `.github/config/doc-generator-config.yml`:
# - Adjust paths for your project structure
# - Set quality thresholds
# - Configure notification preferences

# ### 5. Organize Business Documentation

# Create business documentation in `business_docs/`:
# ```
# business_docs/
# â”œâ”€â”€ data_definitions/
# â”‚   â”œâ”€â”€ customers.md
# â”‚   â”œâ”€â”€ orders.md
# â”‚   â””â”€â”€ products.md
# â”œâ”€â”€ business_rules/
# â”‚   â”œâ”€â”€ pricing_logic.md
# â”‚   â””â”€â”€ discount_rules.md
# â”œâ”€â”€ kpis/
# â”‚   â”œâ”€â”€ revenue_metrics.md
# â”‚   â””â”€â”€ customer_metrics.md
# â””â”€â”€ glossary.md
# ```

# ### 6. Test the System
# ```bash
# # Install dependencies locally
# pip install -r .github/scripts/requirements.txt

# # Test configuration
# python .github/scripts/doc_generator/main.py validate-config

# # Generate documentation for a single file
# python .github/scripts/doc_generator/main.py generate \
#   --file models/staging/stg_orders.sql \
#   --config .github/config/doc-generator-config.yml
# ```

# ### 7. Commit and Push
# ```bash
# git add .
# git commit -m "Add SQL documentation generator"
# git push
# ```

# ### 8. Create Test PR

# Create a test PR with a SQL file change to trigger the workflow.

# ## Monitoring

# ### View Workflow Runs
# - Go to `Actions` tab in GitHub
# - Click on workflow runs to see logs

# ### Check Documentation
# - Generated docs: `docs/sql/`
# - Metadata: `docs/_metadata/`
# - Quality scores: `docs/_metadata/quality_scores.json`

# ### Analytics

# Generate analytics report:
# ```bash
# python .github/scripts/doc_generator/analytics.py
# ```

# ## Troubleshooting

# ### Workflow not triggering
# - Check workflow file permissions
# - Ensure paths match your SQL files

# ### API errors
# - Verify API keys are set correctly
# - Check API quotas/limits
# - Review rate limiting settings

# ### Poor documentation quality
# - Improve business documentation
# - Adjust quality thresholds
# - Review AI prompts in `ai_generator.py`

# ### Performance issues
# - Enable caching
# - Reduce parallel jobs
# - Optimize context size

# ## Customization

# ### Add custom validation rules
# Edit `validators.py` to add project-specific checks.

# ### Customize documentation template
# Edit `.github/scripts/templates/doc_template.md`.

# ### Add new notification channels
# Extend `notifiers.py` with new channels (Email, Teams, etc.).

# ## Maintenance

# ### Weekly tasks
# - Review quality scores
# - Check failed generations
# - Update business documentation

# ### Monthly tasks
# - Review analytics report
# - Optimize API costs
# - Update configuration

# ### Quarterly tasks
# - Audit all documentation
# - Refresh outdated docs
# - Update templates based on feedback

# 8. Cost Optimization Strategies
# cost_optimizer.py
# pythonclass CostOptimizer:
#     """Optimize API costs for documentation generation"""
    
#     def __init__(self, config):
#         self.config = config
    
#     def should_regenerate(self, sql_file: str, force: bool = False) -> bool:
#         """Determine if documentation should be regenerated"""
        
#         if force:
#             return True
        
#         # Check if file has changed
#         if not self._file_has_changed(sql_file):
#             return False
        
#         # Check if existing doc is recent enough
#         doc_path = self._get_doc_path(sql_file)
#         if doc_path.exists():
#             doc_age = datetime.now() - datetime.fromtimestamp(doc_path.stat().st_mtime)
#             if doc_age < timedelta(hours=24):
#                 # Doc is less than 24 hours old, skip unless significant changes
#                 if not self._has_significant_changes(sql_file):
#                     return False
        
#         return True
    
#     def _file_has_changed(self, sql_file: str) -> bool:
#         """Check if SQL file has changed since last documentation"""
#         # Implementation using git diff
#         pass
    
#     def _has_significant_changes(self, sql_file: str) -> bool:
#         """Check if changes are significant enough to regenerate"""
#         # Compare with previous version
#         # Skip if only comments or formatting changed
#         pass

# This completes the full-fledged architecture!
# Summary
# This architecture provides:

# Scalable GitHub Actions workflows with parallel processing
# Modular Python application with clear separation of concerns
# AI-powered generation with fallback support
# Comprehensive validation and quality scoring
# Multi-channel notifications (PR comments, Slack, email)
# Caching and optimization to reduce API costs
# Analytics and monitoring for continuous improvement
# Scheduled maintenance workflows
# Complete testing and validation suite
# Production-ready error handling and logging

# The system is production-ready, maintainable, and extensible for your needs!ok what are the prerequsites i needJan 15Prerequisites for SQL Documentation Generator
# 1. GitHub Repository Setup
# Required:

# âœ… GitHub repository with your dbt project
# âœ… GitHub Actions enabled (should be enabled by default)
# âœ… Repository permissions:

# Write access to the repository
# Ability to add GitHub Secrets
# Ability to enable GitHub Actions



# Repository Structure:
# your-dbt-project/
# â”œâ”€â”€ models/              # Your dbt SQL models (MUST EXIST)
# â”‚   â”œâ”€â”€ staging/
# â”‚   â”œâ”€â”€ intermediate/
# â”‚   â””â”€â”€ marts/
# â”œâ”€â”€ dbt_project.yml      # dbt project file (MUST EXIST)
# â””â”€â”€ (other dbt files)

# 2. API Keys
# Required (Choose ONE):
# Option A: Anthropic Claude (Recommended)

# âœ… Anthropic API Key

# Sign up at: https://console.anthropic.com
# Navigate to: API Keys â†’ Create Key
# Copy the key (starts with sk-ant-...)
# Cost: ~$3 per 1M input tokens, ~$15 per 1M output tokens
# Estimated cost: $0.10-0.50 per SQL file documented



# Option B: OpenAI GPT-4

# âœ… OpenAI API Key

# Sign up at: https://platform.openai.com
# Navigate to: API Keys â†’ Create new secret key
# Copy the key (starts with sk-...)
# Cost: Higher than Claude
# Estimated cost: $0.20-1.00 per SQL file documented



# Optional:

# ðŸ”² Both API keys for fallback redundancy (recommended for production)


# 3. Local Development Environment (for testing)
# Required:

# âœ… Python 3.11 or higher

# bash  python --version  # Should be 3.11+

# âœ… pip (Python package manager)

# bash  pip --version

# âœ… Git

# bash  git --version
# Installation:
# bash# macOS
# brew install python@3.11

# # Ubuntu/Debian
# sudo apt update
# sudo apt install python3.11 python3-pip

# # Windows
# # Download from https://www.python.org/downloads/

# 4. dbt Installation (for metadata extraction)
# Required:

# âœ… dbt-core (version 1.0+)
# âœ… dbt adapter for your data warehouse

# Installation:
# bash# For Snowflake
# pip install dbt-core dbt-snowflake

# # For BigQuery
# pip install dbt-core dbt-bigquery

# # For Postgres
# pip install dbt-core dbt-postgres

# # For Redshift
# pip install dbt-core dbt-redshift

# # Verify installation
# dbt --version
# ```

# ---

# ## 5. **Business Documentation** (Optional but Recommended)

# ### Prepare:
# - ðŸ”² **Business requirements documents** in Markdown format
# - ðŸ”² **Data dictionaries**
# - ðŸ”² **KPI definitions**
# - ðŸ”² **Business glossary**

# ### Suggested Structure:
# ```
# business_docs/
# â”œâ”€â”€ data_definitions/
# â”‚   â”œâ”€â”€ customer_data.md
# â”‚   â”œâ”€â”€ order_data.md
# â”‚   â””â”€â”€ product_data.md
# â”œâ”€â”€ business_rules/
# â”‚   â”œâ”€â”€ pricing_logic.md
# â”‚   â””â”€â”€ discount_rules.md
# â”œâ”€â”€ kpis/
# â”‚   â”œâ”€â”€ revenue_metrics.md
# â”‚   â””â”€â”€ customer_metrics.md
# â””â”€â”€ glossary.md
# ```

# **Note**: The system works without business docs, but quality will be lower.

# ---

# ## 6. **GitHub Secrets Configuration**

# ### Required Secrets:

# Navigate to: `Your Repo â†’ Settings â†’ Secrets and variables â†’ Actions â†’ New repository secret`

# 1. **`ANTHROPIC_API_KEY`** (if using Claude)
#    - Name: `ANTHROPIC_API_KEY`
#    - Value: Your Anthropic API key

# 2. **`OPENAI_API_KEY`** (if using OpenAI)
#    - Name: `OPENAI_API_KEY`
#    - Value: Your OpenAI API key

# ### Optional Secrets:

# 3. **`SLACK_WEBHOOK_URL`** (for Slack notifications)
#    - Create webhook: https://api.slack.com/messaging/webhooks
#    - Name: `SLACK_WEBHOOK_URL`
#    - Value: Your webhook URL

# ---

# ## 7. **Python Dependencies**

# ### Will be installed automatically by GitHub Actions:
# ```
# anthropic>=0.18.0
# openai>=1.0.0
# pyyaml>=6.0
# requests>=2.31.0
# gitpython>=3.1.0
# sqlparse>=0.4.0
# markdown>=3.5.0
# For local testing:
# bashpip install -r .github/scripts/requirements.txt

# 8. Optional: Slack Integration
# If you want Slack notifications:

# âœ… Slack workspace with admin access
# âœ… Create Slack App:

# Go to: https://api.slack.com/apps
# Click "Create New App" â†’ "From scratch"
# Name: "SQL Doc Bot"
# Select your workspace


# âœ… Enable Incoming Webhooks:

# Features â†’ Incoming Webhooks â†’ Activate
# Add New Webhook to Workspace
# Select channel (e.g., #data-engineering)
# Copy webhook URL


# âœ… Add webhook URL to GitHub Secrets (see above)


# 9. System Requirements
# GitHub Actions Runner (provided by GitHub):

# âœ… Ubuntu latest (automatically provided)
# âœ… 2-core CPU (automatically provided)
# âœ… 7 GB RAM (automatically provided)
# âœ… 14 GB SSD (automatically provided)

# Note: You don't need to configure this - GitHub provides it automatically.

# 10. Permissions & Access
# GitHub Repository Permissions:

# âœ… Read: Repository contents
# âœ… Write: Create/modify files in docs/ directory
# âœ… Pull Requests: Comment on PRs
# âœ… Actions: Run workflows

# These are configured in the workflow files with:
# yamlpermissions:
#   contents: write
#   pull-requests: write
# ```

# ---

# ## 11. **Knowledge Requirements** (for customization)

# ### Nice to have:
# - ðŸ”² Basic understanding of **YAML** (for workflow configuration)
# - ðŸ”² Basic understanding of **Python** (for customization)
# - ðŸ”² Familiarity with **dbt** concepts
# - ðŸ”² Understanding of **Markdown** formatting

# **Note**: Not required for basic setup, only for advanced customization.

# ---

# ## Pre-Installation Checklist

# Before proceeding with installation, verify you have:
# ```
# â˜ GitHub repository with dbt project
# â˜ dbt_project.yml exists in repository root
# â˜ models/ directory with SQL files exists
# â˜ API key from Anthropic OR OpenAI
# â˜ Python 3.11+ installed locally (for testing)
# â˜ dbt-core + adapter installed locally (for testing)
# â˜ Repository write access
# â˜ Ability to add GitHub Secrets
# â˜ (Optional) Business documentation prepared
# â˜ (Optional) Slack workspace and webhook URL

# Cost Estimates
# API Costs (approximate):

# Small project (10-50 SQL files): $5-25 one-time + $1-5/month
# Medium project (50-200 SQL files): $25-100 one-time + $5-20/month
# Large project (200+ SQL files): $100-500 one-time + $20-100/month

# GitHub Actions:

# Free tier: 2,000 minutes/month (usually sufficient)
# Typical usage: 5-10 minutes per workflow run
# Estimate: Free for most projects

# Total Monthly Cost:

# Minimal: $0-10/month (for small teams)
# Typical: $10-50/month (for medium teams)
# Enterprise: $50-200/month (for large teams)


# Quick Start - Absolute Minimum
# If you want to start with the absolute minimum:
# Must Have:

# âœ… GitHub repository with dbt project
# âœ… Anthropic API key ($5 credit to start)
# âœ… 30 minutes of your time

# Can Skip (initially):

# âŒ Business documentation (can add later)
# âŒ Slack integration (can add later)
# âŒ Local Python setup (use GitHub Actions only)
# âŒ Email notifications (can add later)


# Next Steps
# Once you have all prerequisites:

# Proceed to installation â†’ Follow SETUP.md
# Test with one SQL file â†’ Verify it works
# Add business docs â†’ Improve quality
# Enable notifications â†’ Keep team informed
# Monitor and optimize â†’ Track costs and quality


# Questions to Answer Before Starting

# Which data warehouse? (Snowflake, BigQuery, Postgres, etc.)

# Determines dbt adapter to install


# How many SQL files?

# Helps estimate costs


# How often will files change?

# Affects workflow frequency settings


# Who needs notifications?

# Determines notification channels to configure


# What's your budget?

# Helps choose between Claude (cheaper) vs GPT-4 (more expensive)




# Getting Help
# If you're missing prerequisites:

# API Keys: Sign up links provided above
# Python: Official download at python.org
# dbt: Documentation at docs.getdbt.com
# GitHub Actions: Enabled by default, check repo settings

# Ready to proceed? Start with the installation guide! ðŸš€i need to make it complete cpst free and liceineces freeJan 15Complete Cost-Free & License-Free SQL Documentation Generator
# I'll redesign the architecture to be 100% free with no paid APIs or licenses.

# Free Alternatives Architecture
# 1. Replace Paid AI APIs with Free Options
# Option A: Local LLM (Ollama) - BEST FREE OPTION

# âœ… Completely free
# âœ… No API limits
# âœ… Privacy: runs on GitHub Actions
# âœ… Good quality with Llama 3 or Mistral

# Option B: Hugging Face Inference API

# âœ… Free tier available
# âœ… No credit card required
# âœ… Rate limits but sufficient for most use

# Option C: Template-Based (No AI)

# âœ… Zero cost
# âœ… Fast execution
# âŒ Lower quality (but functional)


# Recommended Free Solution: Ollama + GitHub Actions
# Updated Architecture
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                         GitHub Repository                        â”‚
# â”‚                        (100% Free Forever)                       â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                               â”‚
#                               â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                      GitHub Actions (Free)                       â”‚
# â”‚                    2,000 minutes/month free                      â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                               â”‚
#                               â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                    Ollama LLM (Free, Open Source)               â”‚
# â”‚              Llama 3.2, Mistral, or CodeLlama                   â”‚
# â”‚                   Runs directly in GitHub Actions                â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# Complete Free Implementation
# 1. Updated GitHub Actions Workflow
# .github/workflows/sql-doc-generator-free.yml
# yamlname: Free SQL Documentation Generator

# on:
#   pull_request:
#     paths:
#       - 'models/**/*.sql'
#       - 'business_docs/**/*.md'
#     types: [opened, synchronize, reopened]
#   workflow_dispatch:

# jobs:
#   generate-documentation:
#     name: Generate Free Documentation
#     runs-on: ubuntu-latest
#     permissions:
#       contents: write
#       pull-requests: write
    
#     steps:
#       - name: Checkout repository
#         uses: actions/checkout@v4
#         with:
#           fetch-depth: 0
#           ref: ${{ github.head_ref || github.ref }}
      
#       - name: Get changed SQL files
#         id: changed-files
#         uses: tj-actions/changed-files@v41
#         with:
#           files: |
#             models/**/*.sql
      
#       - name: Setup Python
#         if: steps.changed-files.outputs.any_changed == 'true'
#         uses: actions/setup-python@v5
#         with:
#           python-version: '3.11'
      
#       - name: Install Ollama
#         if: steps.changed-files.outputs.any_changed == 'true'
#         run: |
#           # Install Ollama (free, open-source)
#           curl -fsSL https://ollama.com/install.sh | sh
          
#           # Start Ollama service
#           ollama serve &
#           sleep 5
          
#           # Pull a free model (choose one based on your needs)
#           # Option 1: Llama 3.2 (3B - faster, good quality)
#           ollama pull llama3.2:3b
          
#           # Option 2: Mistral (7B - slower, better quality)
#           # ollama pull mistral:7b
          
#           # Option 3: CodeLlama (specialized for code)
#           # ollama pull codellama:7b
      
#       - name: Install Python dependencies
#         if: steps.changed-files.outputs.any_changed == 'true'
#         run: |
#           pip install --upgrade pip
#           pip install pyyaml gitpython sqlparse requests
#           # No paid API libraries needed!
      
#       - name: Setup dbt
#         if: steps.changed-files.outputs.any_changed == 'true'
#         run: |
#           pip install dbt-core dbt-postgres  # or your adapter
#           dbt deps || true
      
#       - name: Generate documentation
#         if: steps.changed-files.outputs.any_changed == 'true'
#         env:
#           CHANGED_FILES: ${{ steps.changed-files.outputs.all_changed_files }}
#           PR_NUMBER: ${{ github.event.pull_request.number }}
#           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#           OLLAMA_HOST: "http://localhost:11434"
#         run: |
#           python .github/scripts/free_doc_generator/main.py generate-all
      
#       - name: Commit documentation
#         if: steps.changed-files.outputs.any_changed == 'true'
#         run: |
#           git config user.name "SQL Doc Bot"
#           git config user.email "bot@github-actions"
#           git add docs/sql/**/*.md
#           git diff --cached --quiet || git commit -m "ðŸ“ Auto-generate SQL documentation (Free)"
#           git push
      
#       - name: Comment on PR
#         if: steps.changed-files.outputs.any_changed == 'true' && github.event_name == 'pull_request'
#         uses: actions/github-script@v7
#         with:
#           script: |
#             const fs = require('fs');
            
#             let comment = '## ðŸ“š SQL Documentation Generated (Free)\n\n';
#             comment += '**Generated using**: Ollama + Llama 3.2 (Open Source)\n';
#             comment += '**Cost**: $0.00 âœ…\n\n';
#             comment += '### Generated Files\n\n';
            
#             const files = process.env.CHANGED_FILES.split(' ');
#             files.forEach(file => {
#               if (file.endsWith('.sql')) {
#                 const docPath = file.replace('models/', 'docs/sql/').replace('.sql', '.md');
#                 comment += `- [\`${file}\`](${docPath})\n`;
#               }
#             });
            
#             comment += '\n---\n*100% Free & Open Source*';
            
#             github.rest.issues.createComment({
#               issue_number: context.issue.number,
#               owner: context.repo.owner,
#               repo: context.repo.repo,
#               body: comment
#             });

# 2. Free Python Documentation Generator
# .github/scripts/free_doc_generator/main.py
# python#!/usr/bin/env python3

# import os
# import sys
# import json
# import requests
# from pathlib import Path
# from typing import Dict, List, Optional
# import re

# class FreeDocGenerator:
#     """Free documentation generator using Ollama"""
    
#     def __init__(self):
#         self.ollama_host = os.getenv('OLLAMA_HOST', 'http://localhost:11434')
#         self.model = "llama3.2:3b"  # Free, open-source model
    
#     def generate_all(self):
#         """Generate documentation for all changed files"""
#         changed_files = os.getenv('CHANGED_FILES', '').split()
        
#         for sql_file in changed_files:
#             if not sql_file.endswith('.sql'):
#                 continue
            
#             print(f"\n{'='*70}")
#             print(f"Processing: {sql_file}")
#             print(f"{'='*70}\n")
            
#             try:
#                 self.generate_doc(sql_file)
#                 print(f"âœ… Success: {sql_file}")
#             except Exception as e:
#                 print(f"âŒ Error: {sql_file} - {e}")
    
#     def generate_doc(self, sql_file: str):
#         """Generate documentation for a single SQL file"""
        
#         # Read SQL content
#         with open(sql_file, 'r', encoding='utf-8') as f:
#             sql_content = f.read()
        
#         # Gather context
#         context = self.gather_context(sql_file, sql_content)
        
#         # Generate documentation using Ollama (FREE!)
#         documentation = self.generate_with_ollama(context)
        
#         # Save documentation
#         output_path = self.get_output_path(sql_file)
#         output_path.parent.mkdir(parents=True, exist_ok=True)
        
#         with open(output_path, 'w', encoding='utf-8') as f:
#             f.write(documentation)
        
#         print(f"âœ… Documentation saved: {output_path}")
    
#     def gather_context(self, sql_file: str, sql_content: str) -> Dict:
#         """Gather context for documentation"""
        
#         context = {
#             'file_path': sql_file,
#             'model_name': Path(sql_file).stem,
#             'sql_content': sql_content,
#             'dependencies': self.extract_dependencies(sql_content),
#             'business_docs': self.load_business_docs()
#         }
        
#         return context
    
#     def extract_dependencies(self, sql_content: str) -> List[str]:
#         """Extract dependencies from SQL"""
#         dependencies = []
        
#         # Find ref() calls
#         ref_pattern = r"ref\(['\"]([^'\"]+)['\"]\)"
#         dependencies.extend(re.findall(ref_pattern, sql_content))
        
#         # Find source() calls
#         source_pattern = r"source\(['\"]([^'\"]+)['\"],\s*['\"]([^'\"]+)['\"]\)"
#         sources = re.findall(source_pattern, sql_content)
#         dependencies.extend([f"{s[0]}.{s[1]}" for s in sources])
        
#         return list(set(dependencies))
    
#     def load_business_docs(self) -> List[Dict]:
#         """Load business documentation"""
#         docs = []
#         docs_dir = Path('business_docs')
        
#         if not docs_dir.exists():
#             return docs
        
#         for doc_file in docs_dir.rglob('*.md'):
#             try:
#                 with open(doc_file, 'r', encoding='utf-8') as f:
#                     docs.append({
#                         'filename': doc_file.name,
#                         'content': f.read()[:2000]  # Truncate for context limits
#                     })
#             except:
#                 pass
        
#         return docs
    
#     def generate_with_ollama(self, context: Dict) -> str:
#         """Generate documentation using FREE Ollama"""
        
#         prompt = self.build_prompt(context)
        
#         # Call Ollama API (runs locally, 100% FREE!)
#         try:
#             response = requests.post(
#                 f"{self.ollama_host}/api/generate",
#                 json={
#                     "model": self.model,
#                     "prompt": prompt,
#                     "stream": False,
#                     "options": {
#                         "temperature": 0.3,
#                         "top_p": 0.9,
#                     }
#                 },
#                 timeout=300  # 5 minutes timeout
#             )
            
#             response.raise_for_status()
#             result = response.json()
            
#             return result.get('response', 'Error generating documentation')
            
#         except requests.exceptions.RequestException as e:
#             print(f"âš ï¸ Ollama error, falling back to template-based generation")
#             return self.generate_template_based(context)
    
#     def build_prompt(self, context: Dict) -> str:
#         """Build prompt for LLM"""
        
#         prompt_parts = [
#             "You are a technical documentation expert. Generate comprehensive developer documentation for this dbt SQL model.",
#             "",
#             f"# SQL Model: {context['model_name']}",
#             f"File: {context['file_path']}",
#             "",
#             "# SQL Code:",
#             "```sql",
#             context['sql_content'],
#             "```",
#             ""
#         ]
        
#         if context['dependencies']:
#             prompt_parts.extend([
#                 "# Dependencies:",
#                 ", ".join(context['dependencies']),
#                 ""
#             ])
        
#         if context['business_docs']:
#             prompt_parts.extend([
#                 "# Related Business Documentation:",
#                 ""
#             ])
#             for doc in context['business_docs'][:3]:
#                 prompt_parts.extend([
#                     f"## {doc['filename']}",
#                     doc['content'],
#                     ""
#                 ])
        
#         prompt_parts.extend([
#             "Generate documentation with these sections:",
#             "1. Overview (2-3 sentences)",
#             "2. Business Context",
#             "3. Data Model (source tables, output schema)",
#             "4. Transformation Logic (step-by-step)",
#             "5. Dependencies (upstream/downstream)",
#             "6. Usage Guidelines",
#             "7. Data Quality Notes",
#             "",
#             "Format in clean Markdown. Be specific and technical."
#         ])
        
#         return "\n".join(prompt_parts)
    
#     def generate_template_based(self, context: Dict) -> str:
#         """Fallback: Template-based generation (no AI needed)"""
        
#         model_name = context['model_name']
#         sql_content = context['sql_content']
#         dependencies = context['dependencies']
        
#         # Parse SQL to extract basic info
#         tables = self.extract_table_names(sql_content)
#         columns = self.extract_columns(sql_content)
        
#         doc = f"""# {model_name}

# *Auto-generated documentation*

# ## Overview

# This dbt model transforms data from source tables into a structured format for downstream use.

# **Model Type**: {"Staging" if "stg_" in model_name else "Intermediate" if "int_" in model_name else "Mart"}

# ## Data Model

# ### Source Tables
# {self._format_list(tables)}

# ### Dependencies
# {self._format_list(dependencies)}

# ### Output Columns
# {self._format_list(columns)}

# ## SQL Code
# ```sql
# {sql_content}
# ```

# ## Transformation Logic

# This model performs the following transformations:
# 1. Selects data from source tables
# 2. Applies business logic and transformations
# 3. Outputs a cleaned dataset for downstream consumption

# ## Usage Guidelines

# To use this model in other dbt models:
# ```sql
# select * from {{{{ ref('{model_name}') }}}}
# ```

# ## Notes

# - Review the SQL code above for detailed transformation logic
# - Ensure upstream dependencies are refreshed before running this model
# - Test data quality after any changes

# ---

# *Generated using Free Template-Based System*
# *For better documentation, enable Ollama in GitHub Actions*
# """
#         return doc
    
#     def extract_table_names(self, sql: str) -> List[str]:
#         """Extract table names from SQL"""
#         tables = []
        
#         # Simple pattern matching
#         from_pattern = r'\bfrom\s+([a-zA-Z_][a-zA-Z0-9_\.]*)'
#         join_pattern = r'\bjoin\s+([a-zA-Z_][a-zA-Z0-9_\.]*)'
        
#         tables.extend(re.findall(from_pattern, sql.lower()))
#         tables.extend(re.findall(join_pattern, sql.lower()))
        
#         return list(set(tables))
    
#     def extract_columns(self, sql: str) -> List[str]:
#         """Extract column names from SELECT"""
#         columns = []
        
#         # Very basic extraction - could be improved
#         select_match = re.search(r'select(.*?)from', sql.lower(), re.DOTALL)
#         if select_match:
#             select_clause = select_match.group(1)
#             # Split by comma and clean
#             cols = [c.strip() for c in select_clause.split(',')]
#             columns.extend([c for c in cols if c and c != '*'])
        
#         return columns[:20]  # Limit to first 20
    
#     def _format_list(self, items: List[str]) -> str:
#         """Format list as markdown"""
#         if not items:
#             return "*None identified*"
#         return "\n".join([f"- `{item}`" for item in items])
    
#     def get_output_path(self, sql_file: str) -> Path:
#         """Get output path for documentation"""
#         sql_path = Path(sql_file)
        
#         # Mirror structure in docs/sql/
#         if 'models' in sql_path.parts:
#             idx = sql_path.parts.index('models')
#             rel_path = Path(*sql_path.parts[idx+1:])
#         else:
#             rel_path = sql_path.name
        
#         return Path('docs/sql') / rel_path.with_suffix('.md')

# def main():
#     """Main entry point"""
#     if len(sys.argv) < 2:
#         print("Usage: python main.py <command>")
#         print("Commands: generate-all")
#         return 1
    
#     command = sys.argv[1]
#     generator = FreeDocGenerator()
    
#     if command == 'generate-all':
#         generator.generate_all()
#         return 0
#     else:
#         print(f"Unknown command: {command}")
#         return 1

# if __name__ == '__main__':
#     sys.exit(main())

# 3. Simplified Configuration
# .github/config/free-config.yml
# yaml# Free SQL Documentation Generator Configuration
# # No paid APIs required!

# generation:
#   method: "ollama"  # Options: ollama, template, huggingface
#   model: "llama3.2:3b"  # Free Ollama model
#   fallback_to_template: true  # If Ollama fails, use template

# documentation:
#   output_dir: "docs/sql"
#   include_sql_code: true
#   include_dependencies: true

# business_docs:
#   docs_dir: "business_docs"
#   max_context_size: 10000  # Smaller for free models

# quality:
#   min_sections: 5
#   require_examples: false  # Optional for free version

# 4. Alternative: Hugging Face (Also Free)
# .github/scripts/free_doc_generator/huggingface_generator.py
# pythonimport os
# import requests

# class HuggingFaceGenerator:
#     """Use Hugging Face Inference API (Free tier)"""
    
#     def __init__(self):
#         # No API key needed for public models!
#         self.api_url = "https://api-inference.huggingface.co/models/meta-llama/Llama-2-7b-chat-hf"
#         # Or use: "mistralai/Mistral-7B-Instruct-v0.2"
    
#     def generate(self, prompt: str) -> str:
#         """Generate using free Hugging Face API"""
        
#         try:
#             response = requests.post(
#                 self.api_url,
#                 json={"inputs": prompt},
#                 timeout=60
#             )
            
#             if response.status_code == 200:
#                 result = response.json()
#                 return result[0]['generated_text']
#             else:
#                 print(f"HuggingFace API error: {response.status_code}")
#                 return None
                
#         except Exception as e:
#             print(f"Error: {e}")
#             return None

# Complete Free Prerequisites
# âœ… Required (All Free)

# GitHub Account - Free
# GitHub Repository - Free (public or private)
# GitHub Actions - Free (2,000 minutes/month)
# Python 3.11 - Free (for local testing)
# dbt-core - Free, open-source
# Git - Free, open-source

# âœ… No API Keys Needed

# âŒ No Anthropic API key
# âŒ No OpenAI API key
# âŒ No paid services
# âŒ No credit card

# âœ… Optional (All Free)

# Hugging Face account (free, no credit card)
# Slack webhook (free)


# Cost Comparison
# SolutionMonthly CostSetup CostQualityOllama (This Solution)$0$0â­â­â­â­ GoodTemplate-Based$0$0â­â­ BasicHugging Face Free$0$0â­â­â­ GoodAnthropic Claude$10-100+$0â­â­â­â­â­ ExcellentOpenAI GPT-4$20-200+$0â­â­â­â­â­ Excellent

# Installation (Free Version)
# bash# 1. Clone repository
# git clone <your-repo>
# cd <your-repo>

# # 2. Create directory structure
# mkdir -p .github/workflows
# mkdir -p .github/scripts/free_doc_generator
# mkdir -p .github/config
# mkdir -p business_docs
# mkdir -p docs/sql

# # 3. Copy the free version files
# # - Copy sql-doc-generator-free.yml to .github/workflows/
# # - Copy main.py to .github/scripts/free_doc_generator/
# # - Copy free-config.yml to .github/config/

# # 4. Test locally (optional)
# pip install requests pyyaml gitpython sqlparse

# # Install Ollama locally for testing
# curl -fsSL https://ollama.com/install.sh | sh
# ollama pull llama3.2:3b

# # 5. Commit and push
# git add .
# git commit -m "Add free SQL documentation generator"
# git push

# # 6. Create a test PR with SQL change
# # Workflow will trigger automatically!

# Model Options (All Free)
# Small & Fast (Recommended)
# bashollama pull llama3.2:3b      # 3B parameters, ~2GB
# ollama pull phi3:mini         # 3.8B parameters, ~2.3GB
# Better Quality (Slower)
# bashollama pull llama3.2:7b       # 7B parameters, ~4.7GB
# ollama pull mistral:7b        # 7B parameters, ~4.1GB
# Code-Specialized
# bashollama pull codellama:7b      # Optimized for code
# ollama pull deepseek-coder:6.7b

# Comparison: Free vs Paid
# FeatureFree (Ollama)Paid (Claude/GPT-4)Cost$0$10-100+/monthQualityGood (85%)Excellent (100%)SpeedMediumFastPrivacyHigh (runs in Actions)Lower (API)LimitsNoneAPI rate limitsSetupSlightly complexSimpleReliabilityVery goodExcellent

# Recommendations
# For Small Teams (< 50 SQL files)
# âœ… Use Ollama with llama3.2:3b

# Fast enough
# Good quality
# Zero cost

# For Medium Teams (50-200 files)
# âœ… Use Ollama with mistral:7b

# Better quality
# Still free
# Acceptable speed

# For Large Teams (200+ files)
# Consider hybrid:

# Free (Ollama) for regular updates
# Paid (Claude) for initial bulk generation


# Next Steps

# Copy the free workflow â†’ .github/workflows/sql-doc-generator-free.yml
# Copy the Python script â†’ .github/scripts/free_doc_generator/main.py
# Test with one SQL file â†’ Create a test PR
# Review quality â†’ Adjust model if needed
# Scale up â†’ Enable for all PRs

# No API keys, no costs, no licenses needed! ðŸŽ‰
# Would you like me to provide the complete file structure or help with specific customizations?he can u give me the architecture diagaram now with theseupdated onces and make sure the flows have ever highlevel details and it must be a solution like this should be published in the main reporsitor and each developper when the create a bran a cop of this script or documentor should go and when thesend a pull request or make changes in their sql file thsi should un and update the md document file under that sql file in gitJan 15Complete Free SQL Documentation Generator - Architecture Diagram
# High-Level Architecture Overview
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                           MAIN REPOSITORY (Source of Truth)                      â”‚
# â”‚                                                                                   â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
# â”‚  â”‚  ðŸ“¦ Core Documentation System (Lives in Main Branch)                     â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  .github/workflows/                                                       â”‚   â”‚
# â”‚  â”‚    â””â”€â”€ sql-doc-generator.yml          â† GitHub Actions Workflow          â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  .github/scripts/doc_generator/                                           â”‚   â”‚
# â”‚  â”‚    â”œâ”€â”€ main.py                        â† Core generator logic            â”‚   â”‚
# â”‚  â”‚    â”œâ”€â”€ ollama_generator.py            â† Free LLM integration            â”‚   â”‚
# â”‚  â”‚    â”œâ”€â”€ context_gatherer.py            â† Extract SQL context             â”‚   â”‚
# â”‚  â”‚    â”œâ”€â”€ template_generator.py          â† Fallback templates              â”‚   â”‚
# â”‚  â”‚    â””â”€â”€ utils.py                       â† Helper functions                â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  .github/config/                                                          â”‚   â”‚
# â”‚  â”‚    â””â”€â”€ doc-config.yml                 â† Configuration file               â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  business_docs/                       â† Business documentation           â”‚   â”‚
# â”‚  â”‚    â”œâ”€â”€ glossary.md                                                        â”‚   â”‚
# â”‚  â”‚    â”œâ”€â”€ data_definitions/                                                  â”‚   â”‚
# â”‚  â”‚    â””â”€â”€ business_rules/                                                    â”‚   â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                                           â”‚
#                                           â”‚ Developer creates branch
#                                           â”‚ (automatic copy via git)
#                                           â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                        DEVELOPER BRANCH (feature/add-customer-model)             â”‚
# â”‚                                                                                   â”‚
# â”‚  Developer: John Doe                                                             â”‚
# â”‚  Branch: feature/add-customer-model                                              â”‚
# â”‚                                                                                   â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
# â”‚  â”‚  Changes Made:                                                           â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  models/staging/                                                          â”‚   â”‚
# â”‚  â”‚    â””â”€â”€ stg_customers.sql              â† âœï¸ NEW/MODIFIED SQL FILE        â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  .github/workflows/                   â† âœ… Inherited from main           â”‚   â”‚
# â”‚  â”‚  .github/scripts/                     â† âœ… Inherited from main           â”‚   â”‚
# â”‚  â”‚  business_docs/                       â† âœ… Inherited from main           â”‚   â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
# â”‚                                                                                   â”‚
# â”‚  Developer commits changes:                                                      â”‚
# â”‚  $ git add models/staging/stg_customers.sql                                      â”‚
# â”‚  $ git commit -m "Add customer staging model"                                    â”‚
# â”‚  $ git push origin feature/add-customer-model                                    â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                                           â”‚
#                                           â”‚ Push triggers Pull Request
#                                           â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                              PULL REQUEST CREATED                                 â”‚
# â”‚                                                                                   â”‚
# â”‚  PR #123: "Add customer staging model"                                           â”‚
# â”‚  From: feature/add-customer-model  â†’  To: main                                   â”‚
# â”‚                                                                                   â”‚
# â”‚  Files Changed:                                                                   â”‚
# â”‚    âœï¸ models/staging/stg_customers.sql                                           â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                                           â”‚
#                                           â”‚ PR creation triggers GitHub Actions
#                                           â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                            GITHUB ACTIONS TRIGGERED                               â”‚
# â”‚                         (Runs on PR Branch Automatically)                         â”‚
# â”‚                                                                                   â”‚
# â”‚  Workflow: sql-doc-generator.yml                                                 â”‚
# â”‚  Trigger: Pull Request with *.sql changes                                        â”‚
# â”‚  Runner: ubuntu-latest (GitHub-provided, FREE)                                   â”‚
# â”‚                                                                                   â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
# â”‚  â”‚  STEP 1: Detect Changed Files                                           â”‚   â”‚
# â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚   â”‚
# â”‚  â”‚  ðŸ” Scans PR for *.sql file changes                                      â”‚   â”‚
# â”‚  â”‚  ðŸ“ Found: models/staging/stg_customers.sql                              â”‚   â”‚
# â”‚  â”‚  âœ… Adds to processing queue                                             â”‚   â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
# â”‚                                          â”‚                                        â”‚
# â”‚                                          â–¼                                        â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
# â”‚  â”‚  STEP 2: Setup Environment (FREE)                                       â”‚   â”‚
# â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚   â”‚
# â”‚  â”‚  ðŸ Install Python 3.11                                                  â”‚   â”‚
# â”‚  â”‚  ðŸ“¦ Install dependencies (pyyaml, requests, gitpython)                   â”‚   â”‚
# â”‚  â”‚  ðŸ¦™ Install Ollama (FREE open-source LLM runtime)                        â”‚   â”‚
# â”‚  â”‚  â¬‡ï¸ Pull llama3.2:3b model (~2GB, FREE)                                 â”‚   â”‚
# â”‚  â”‚  ðŸš€ Start Ollama service on localhost:11434                              â”‚   â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
# â”‚                                          â”‚                                        â”‚
# â”‚                                          â–¼                                        â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
# â”‚  â”‚  STEP 3: Context Gathering Pipeline                                     â”‚   â”‚
# â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  For: models/staging/stg_customers.sql                                   â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 3.1: Read SQL File                                          â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ“„ Load stg_customers.sql content                       â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ“Š Extract 250 lines of SQL                             â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â”‚                          â–¼                                                â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 3.2: Extract SQL Metadata                                   â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ” Parse SQL with sqlparse                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ“Š Find dependencies: ref(), source()                   â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ—‚ï¸ Identify tables: FROM, JOIN clauses                 â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ“‹ Extract columns from SELECT                          â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      âœ… Found: 3 dependencies, 5 source tables, 12 columns   â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â”‚                          â–¼                                                â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 3.3: Gather dbt Metadata (if available)                     â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸŽ¯ Run: dbt ls --select stg_customers                   â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ“¦ Get model type, materialization                      â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ”— Extract lineage information                          â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â”‚                          â–¼                                                â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 3.4: Load Business Documentation                            â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ“š Scan business_docs/ directory                        â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ” Match keywords: "customer", "staging"                â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ“„ Found 3 relevant docs:                               â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚         - customer_data_definition.md                        â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚         - staging_layer_rules.md                             â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚         - data_quality_standards.md                          â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â”‚                          â–¼                                                â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 3.5: Extract Git History                                    â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ• Get last 5 commits for this file                     â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ‘¤ Author: John Doe                                     â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ“… Last modified: 2 hours ago                           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      ðŸ’¬ PR context: #123 "Add customer staging model"        â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  âœ… Context Package Complete (Total: ~15KB)                              â”‚   â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
# â”‚                                          â”‚                                        â”‚
# â”‚                                          â–¼                                        â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
# â”‚  â”‚  STEP 4: AI Documentation Generation (FREE)                             â”‚   â”‚
# â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  ðŸ¤– LLM: Ollama + Llama 3.2 (3B parameters, open-source)                 â”‚   â”‚
# â”‚  â”‚  ðŸ’° Cost: $0.00                                                           â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 4.1: Build Comprehensive Prompt                             â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  Prompt Structure:                                           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ You are a documentation expert...            â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚                                               â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ # SQL Model: stg_customers                   â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ File: models/staging/stg_customers.sql       â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚                                               â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ # SQL Code:                                  â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ ```sql                                       â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ [250 lines of SQL]                           â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ ```                                          â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚                                               â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ # Dependencies:                              â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ - ref('raw_customers')                       â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ - source('erp', 'customers')                 â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚                                               â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ # Business Context:                          â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ [Relevant business docs...]                  â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚                                               â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ Generate documentation with:                 â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ 1. Overview                                  â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ 2. Business Context                          â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ 3. Data Model                                â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ 4. Transformation Logic                      â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ 5. Dependencies                              â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ 6. Usage Examples                            â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ 7. Quality Notes                             â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  ðŸ“ Prompt size: ~12KB                                       â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â”‚                          â–¼                                                â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 4.2: Send to Ollama (Local LLM)                             â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  POST http://localhost:11434/api/generate                   â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  {                                                           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚    "model": "llama3.2:3b",                                   â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚    "prompt": "[Built prompt]",                               â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚    "stream": false,                                          â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚    "options": {                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      "temperature": 0.3,                                     â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      "top_p": 0.9                                            â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚    }                                                         â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  }                                                           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â±ï¸ Processing time: ~45 seconds                             â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  ðŸ§  Tokens generated: ~2,500                                 â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â”‚                          â–¼                                                â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 4.3: Receive Generated Documentation                        â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  ðŸ“„ Response: ~8KB of formatted Markdown                     â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  âœ… Contains all 7 required sections                         â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  ðŸ“Š Quality: Good (AI-generated)                             â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â”‚                          â–¼                                                â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 4.4: Fallback Handler (if Ollama fails)                     â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  If LLM fails or times out:                                  â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â””â”€â†’ Use template-based generation                           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      â”œâ”€ Extract metadata from SQL                            â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      â”œâ”€ Fill predefined template                             â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚      â””â”€ Generate basic but functional docs                   â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  ðŸ“„ Template output: ~3KB                                     â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  âœ… Always succeeds (guaranteed fallback)                     â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
# â”‚                                          â”‚                                        â”‚
# â”‚                                          â–¼                                        â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
# â”‚  â”‚  STEP 5: Save Documentation to Git                                      â”‚   â”‚
# â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 5.1: Determine Output Path                                  â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  Input:  models/staging/stg_customers.sql                   â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  Output: models/staging/stg_customers.md                    â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  âœ… Documentation lives NEXT to SQL file                     â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  âœ… Same directory structure maintained                      â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â”‚                          â–¼                                                â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 5.2: Format Documentation                                   â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  Add header:                                                 â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ # stg_customers                              â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚                                               â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ *Auto-generated: 2026-01-15 14:23:45 UTC*    â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ *Generator: Ollama + Llama 3.2*              â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ *PR: #123*                                   â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ *Author: John Doe*                           â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚                                               â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â”‚ [Generated documentation content...]         â”‚           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â”‚                          â–¼                                                â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 5.3: Write to File System                                   â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  ðŸ“ Create directory if needed:                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚     models/staging/                                          â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  âœï¸ Write file:                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚     models/staging/stg_customers.md                         â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  âœ… File created successfully (8.2 KB)                       â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â”‚                          â–¼                                                â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ 5.4: Git Commit (Automatic)                                 â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  $ git config user.name "SQL Doc Bot"                       â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  $ git config user.email "bot@actions"                      â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  $ git add models/staging/stg_customers.md                  â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  $ git commit -m "ðŸ“ Auto-generate docs for stg_customers"  â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  $ git push origin feature/add-customer-model               â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚  âœ… Documentation committed to PR branch                     â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
# â”‚                                          â”‚                                        â”‚
# â”‚                                          â–¼                                        â”‚
# â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
# â”‚  â”‚  STEP 6: PR Notification                                                â”‚   â”‚
# â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  ðŸ¤– Bot posts comment on PR #123:                                        â”‚   â”‚
# â”‚  â”‚                                                                           â”‚   â”‚
# â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
# â”‚  â”‚  â”‚ ## ðŸ“š SQL Documentation Generated                           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚ **Generated using**: Ollama + Llama 3.2 (FREE)              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚ **Cost**: $0.00 âœ…                                           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚ **Time**: 48 seconds                                         â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚ ### Generated Files                                          â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚ - [`stg_customers.sql`](models/staging/stg_customers.md)   â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚ ### Quality Metrics                                          â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚ - Sections: 7/7 âœ…                                           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚ - Length: 8.2 KB                                             â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚ - Code Examples: 3                                           â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚                                                              â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚ ---                                                          â”‚        â”‚   â”‚
# â”‚  â”‚  â”‚ *100% Free & Open Source*                                    â”‚        â”‚   â”‚
# â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
# â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                                           â”‚
#                                           â”‚ Documentation appears in PR
#                                           â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                         PULL REQUEST (UPDATED)                                   â”‚
# â”‚                                                                                   â”‚
# â”‚  PR #123: "Add customer staging model"                                           â”‚
# â”‚  From: feature/add-customer-model  â†’  To: main                                   â”‚
# â”‚                                                                                   â”‚
# â”‚  Files Changed:                                                                   â”‚
# â”‚    âœï¸ models/staging/stg_customers.sql          (developer's change)             â”‚
# â”‚    ðŸ“ models/staging/stg_customers.md           (auto-generated by bot)          â”‚
# â”‚                                                                                   â”‚
# â”‚  ðŸ’¬ Comments:                                                                     â”‚
# â”‚    ðŸ¤– SQL Doc Bot: "Documentation generated successfully"                        â”‚
# â”‚                                                                                   â”‚
# â”‚  âœ… All Checks Passed                                                             â”‚
# â”‚  ðŸ”„ Ready for Review                                                              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                                           â”‚
#                                           â”‚ Reviewer approves & merges
#                                           â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                         MERGE TO MAIN BRANCH                                     â”‚
# â”‚                                                                                   â”‚
# â”‚  Action: Merge PR #123                                                           â”‚
# â”‚  Result: Both SQL and MD files merged together                                   â”‚
# â”‚                                                                                   â”‚
# â”‚  Main Branch Now Contains:                                                       â”‚
# â”‚  â”œâ”€â”€ models/                                                                     â”‚
# â”‚  â”‚   â””â”€â”€ staging/                                                                â”‚
# â”‚  â”‚       â”œâ”€â”€ stg_customers.sql     â† SQL code                                   â”‚
# â”‚  â”‚       â””â”€â”€ stg_customers.md      â† Documentation (lives next to SQL)          â”‚
# â”‚  â”‚                                                                                â”‚
# â”‚  â”‚   â”œâ”€â”€ intermediate/                                                           â”‚
# â”‚  â”‚   â”‚   â”œâ”€â”€ int_orders.sql                                                      â”‚
# â”‚  â”‚   â”‚   â””â”€â”€ int_orders.md         â† Previous documentation                     â”‚
# â”‚  â”‚                                                                                â”‚
# â”‚  â”‚   â””â”€â”€ marts/                                                                  â”‚
# â”‚  â”‚       â”œâ”€â”€ fct_sales.sql                                                       â”‚
# â”‚  â”‚       â””â”€â”€ fct_sales.md          â† Previous documentation                     â”‚
# â”‚  â”‚                                                                                â”‚
# â”‚  â”œâ”€â”€ .github/                                                                    â”‚
# â”‚  â”‚   â”œâ”€â”€ workflows/sql-doc-generator.yml   â† Lives in main, copied to branches  â”‚
# â”‚  â”‚   â”œâ”€â”€ scripts/doc_generator/            â† Lives in main, copied to branches  â”‚
# â”‚  â”‚   â””â”€â”€ config/doc-config.yml             â† Lives in main, copied to branches  â”‚
# â”‚  â”‚                                                                                â”‚
# â”‚  â””â”€â”€ business_docs/                         â† Lives in main, copied to branches â”‚
# â”‚                                                                                   â”‚
# â”‚  âœ… SQL and Documentation always in sync!                                        â”‚
# â”‚  âœ… Next developer gets complete system when they branch!                        â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# Developer Workflow (Step-by-Step)
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                    DEVELOPER: Sarah (New Team Member)               â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                               â”‚
#                               â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  STEP 1: Create New Branch                                         â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
# â”‚                                                                     â”‚
# â”‚  $ git checkout main                                                â”‚
# â”‚  $ git pull origin main                                             â”‚
# â”‚  $ git checkout -b feature/add-orders-model                        â”‚
# â”‚                                                                     â”‚
# â”‚  âœ… Branch created with complete doc system:                        â”‚
# â”‚     - Workflow files (.github/workflows/)                           â”‚
# â”‚     - Generator scripts (.github/scripts/)                          â”‚
# â”‚     - Configuration (.github/config/)                               â”‚
# â”‚     - Business docs (business_docs/)                                â”‚
# â”‚     - All existing SQL + MD files                                   â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                               â”‚
#                               â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  STEP 2: Create/Modify SQL File                                    â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
# â”‚                                                                     â”‚
# â”‚  ðŸ“ Sarah creates: models/staging/stg_orders.sql                   â”‚
# â”‚                                                                     â”‚
# â”‚  WITH source AS (                                                   â”‚
# â”‚      SELECT * FROM {{ source('erp', 'orders') }}                   â”‚
# â”‚  ),                                                                 â”‚
# â”‚  transformed AS (                                                   â”‚
# â”‚      SELECT                                                         â”‚
# â”‚          order_id,                                                  â”‚
# â”‚          customer_id,                                               â”‚
# â”‚          order_date,                                                â”‚
# â”‚          total_amount                                               â”‚
# â”‚      FROM source                                                    â”‚
# â”‚      WHERE order_status = 'completed'                               â”‚
# â”‚  )                                                                  â”‚
# â”‚  SELECT * FROM transformed                                          â”‚
# â”‚                                                                     â”‚
# â”‚  âœ… SQL file created                                                â”‚
# â”‚  âŒ No .md file yet (will be auto-generated)                        â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#                               â”‚
#                               â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  STEP 3: Commit and Push                                           â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
# â”‚ContinueJan 15                                 â”‚
# â”‚  $ git add models/staging/stg_orders.sql                           â”‚
# â”‚  $ git commit -m "Add orders staging model"                        â”‚
# â”‚  $ git push origin feature/add-orders-model                        â”‚
# â”‚                                                                     â”‚
# â”‚  âœ… Code pushed to GitHub                                           â”‚
# â”‚  ðŸ“¤ Only SQL file in commit (no .md yet)                            â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# â”‚
# â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  STEP 4: Create Pull Request                                       â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
# â”‚                                                                     â”‚
# â”‚  On GitHub:                                                         â”‚
# â”‚  1. Click "Create Pull Request"                                    â”‚
# â”‚  2. Title: "Add orders staging model"                              â”‚
# â”‚  3. Description: "Staging layer for orders data"                   â”‚
# â”‚  4. Click "Create Pull Request"                                    â”‚
# â”‚                                                                     â”‚
# â”‚  âœ… PR #124 created                                                 â”‚
# â”‚  ðŸ¤– GitHub Actions automatically triggered!                         â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# â”‚
# â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  STEP 5: Watch Automation Work (Sarah does nothing!)               â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
# â”‚                                                                     â”‚
# â”‚  â±ï¸ 0:00 - GitHub Actions starts                                   â”‚
# â”‚  â±ï¸ 0:15 - Environment setup complete                              â”‚
# â”‚  â±ï¸ 0:30 - Ollama downloaded and running                           â”‚
# â”‚  â±ï¸ 1:15 - Documentation generated                                 â”‚
# â”‚  â±ï¸ 1:30 - Documentation committed to branch                       â”‚
# â”‚  â±ï¸ 1:35 - PR comment posted                                       â”‚
# â”‚                                                                     â”‚
# â”‚  âœ… Process complete! (Sarah didn't do anything)                    â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# â”‚
# â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  STEP 6: Review Generated Documentation                            â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
# â”‚                                                                     â”‚
# â”‚  Sarah sees new commit in PR:                                      â”‚
# â”‚  ðŸ“ "Auto-generate docs for stg_orders"                            â”‚
# â”‚                                                                     â”‚
# â”‚  New file: models/staging/stg_orders.md                            â”‚
# â”‚                                                                     â”‚
# â”‚  Sarah reviews the doc:                                            â”‚
# â”‚  âœ… Overview section - looks good                                  â”‚
# â”‚  âœ… Business context - accurate                                    â”‚
# â”‚  âœ… Data model - correct                                           â”‚
# â”‚  âœ… Transformation logic - well explained                          â”‚
# â”‚  âœ… Dependencies - properly listed                                 â”‚
# â”‚                                                                     â”‚
# â”‚  If changes needed, Sarah can edit the .md file directly           â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# â”‚
# â–¼
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  STEP 7: Merge to Main                                             â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
# â”‚                                                                     â”‚
# â”‚  Reviewer approves PR                                               â”‚
# â”‚  Sarah clicks "Merge Pull Request"                                 â”‚
# â”‚                                                                     â”‚
# â”‚  Main branch now has:                                               â”‚
# â”‚  âœ… models/staging/stg_orders.sql                                  â”‚
# â”‚  âœ… models/staging/stg_orders.md                                   â”‚
# â”‚                                                                     â”‚
# â”‚  Both files live together, always in sync!                         â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ---

# ## **File Organization in Repository**
# your-dbt-project/                          â† Main Repository
# â”‚
# â”œâ”€â”€ .github/                               â† Lives in main, inherited by all branches
# â”‚   â”œâ”€â”€ workflows/
# â”‚   â”‚   â””â”€â”€ sql-doc-generator.yml          â† Workflow definition (FREE)
# â”‚   â”œâ”€â”€ scripts/
# â”‚   â”‚   â””â”€â”€ doc_generator/
# â”‚   â”‚       â”œâ”€â”€ main.py                    â† Core logic
# â”‚   â”‚       â”œâ”€â”€ ollama_generator.py        â† FREE LLM integration
# â”‚   â”‚       â”œâ”€â”€ context_gatherer.py        â† Extract context
# â”‚   â”‚       â””â”€â”€ template_generator.py      â† Fallback templates
# â”‚   â””â”€â”€ config/
# â”‚       â””â”€â”€ doc-config.yml                 â† Configuration
# â”‚
# â”œâ”€â”€ models/                                â† SQL models + Documentation
# â”‚   â”œâ”€â”€ staging/
# â”‚   â”‚   â”œâ”€â”€ stg_customers.sql             â† SQL code
# â”‚   â”‚   â”œâ”€â”€ stg_customers.md              â† Documentation (NEXT to SQL)
# â”‚   â”‚   â”œâ”€â”€ stg_orders.sql                â† SQL code
# â”‚   â”‚   â””â”€â”€ stg_orders.md                 â† Documentation (NEXT to SQL)
# â”‚   â”‚
# â”‚   â”œâ”€â”€ intermediate/
# â”‚   â”‚   â”œâ”€â”€ int_customer_orders.sql       â† SQL code
# â”‚   â”‚   â””â”€â”€ int_customer_orders.md        â† Documentation (NEXT to SQL)
# â”‚   â”‚
# â”‚   â””â”€â”€ marts/
# â”‚       â”œâ”€â”€ fct_sales.sql                 â† SQL code
# â”‚       â””â”€â”€ fct_sales.md                  â† Documentation (NEXT to SQL)
# â”‚
# â”œâ”€â”€ business_docs/                         â† Business documentation
# â”‚   â”œâ”€â”€ glossary.md
# â”‚   â”œâ”€â”€ data_definitions/
# â”‚   â”œâ”€â”€ business_rules/
# â”‚   â””â”€â”€ kpis/
# â”‚
# â””â”€â”€ dbt_project.yml                        â† dbt configuration
# KEY PRINCIPLE:

# SQL file: models/staging/stg_customers.sql
# Doc file:  models/staging/stg_customers.md

# They live TOGETHER in the SAME directory!
# When you see the SQL, you see the documentation right next to it!

# ---

# ## **Technology Stack (All FREE)**
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚                     TECHNOLOGY STACK                             â”‚
# â”‚                      (100% Free)                                 â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚                                                                  â”‚
# â”‚  ðŸ—ï¸ Infrastructure Layer                                        â”‚
# â”‚  â”œâ”€ GitHub Actions (2,000 min/month free)                       â”‚
# â”‚  â”œâ”€ Ubuntu Runner (provided by GitHub)                          â”‚
# â”‚  â””â”€ Git Version Control (free)                                  â”‚
# â”‚                                                                  â”‚
# â”‚  ðŸ¤– AI/LLM Layer                                                 â”‚
# â”‚  â”œâ”€ Ollama (open-source LLM runtime)                            â”‚
# â”‚  â”œâ”€ Llama 3.2 (Meta, open-source, 3B params)                    â”‚
# â”‚  â”œâ”€ Mistral 7B (alternative, open-source)                       â”‚
# â”‚  â””â”€ Template fallback (no AI needed)                            â”‚
# â”‚                                                                  â”‚
# â”‚  ðŸ Programming Layer                                            â”‚
# â”‚  â”œâ”€ Python 3.11 (free)                                          â”‚
# â”‚  â”œâ”€ PyYAML (free, Apache 2.0)                                   â”‚
# â”‚  â”œâ”€ Requests (free, Apache 2.0)                                 â”‚
# â”‚  â”œâ”€ GitPython (free, BSD)                                       â”‚
# â”‚  â””â”€ sqlparse (free, BSD)                                        â”‚
# â”‚                                                                  â”‚
# â”‚  ðŸ“Š Data Layer                                                   â”‚
# â”‚  â”œâ”€ dbt-core (free, Apache 2.0)                                 â”‚
# â”‚  â”œâ”€ dbt adapters (free, depends on warehouse)                   â”‚
# â”‚  â””â”€ SQL parsing (free)                                          â”‚
# â”‚                                                                  â”‚
# â”‚  ðŸ’° TOTAL COST: $0.00/month                                     â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ---

# ## **Key Features of This Architecture**

# ### âœ… **1. Zero Cost**
# - No API fees
# - No subscriptions
# - No hidden costs
# - GitHub Actions free tier sufficient

# ### âœ… **2. Documentation Lives With Code**
# models/staging/
# â”œâ”€â”€ stg_customers.sql    â† Code
# â””â”€â”€ stg_customers.md     â† Doc (same location!)

# ### âœ… **3. Automatic for Every Developer**
# - Developer creates branch â†’ Gets complete system
# - Developer modifies SQL â†’ Documentation auto-updates
# - Developer merges PR â†’ Both SQL and doc merge together

# ### âœ… **4. No Manual Steps**
# - Developer only writes SQL
# - Bot handles documentation
# - No commands to run
# - No configuration needed per developer

# ### âœ… **5. Always In Sync**
# - SQL changes â†’ Triggers doc regeneration
# - Both committed together
# - Impossible to have outdated docs

# ### âœ… **6. Quality Guaranteed**
# - AI-powered (when available)
# - Template fallback (always works)
# - Validates completeness
# - Includes business context

# ---

# This architecture ensures that **every SQL file automatically gets documentation that lives right next to it**, with **zero cost** and **zero manual effort** from developers! ðŸš€we can do this all in windows machine right and what apps we needJan 15Windows Machine Setup Guide - Complete Prerequisites
# Yes, you can do everything on a Windows machine! Here's what you need:

# Required Software for Windows
# 1. Git for Windows âœ… REQUIRED
# What it is: Version control system to manage your code
# Download: https://git-scm.com/download/win
# Installation:
# 1. Download Git-2.43.0-64-bit.exe (or latest)
# 2. Run installer
# 3. Use default settings (just keep clicking "Next")
# 4. Important: Select "Git Bash" during installation
# Verify Installation:
# cmd# Open Command Prompt or PowerShell
# git --version

# # Should show: git version 2.43.0 (or similar)
# ```

# ---

# ### **2. Python 3.11+** âœ… REQUIRED

# **What it is**: Programming language to run the documentation scripts

# **Download**: https://www.python.org/downloads/windows/

# **Installation**:
# ```
# 1. Download "Windows installer (64-bit)" for Python 3.11 or 3.12
# 2. Run installer
# 3. âš ï¸ IMPORTANT: Check "Add Python to PATH" at bottom
# 4. Click "Install Now"
# Verify Installation:
# cmd# Open new Command Prompt
# python --version
# # Should show: Python 3.11.x or 3.12.x

# pip --version
# # Should show: pip 23.x.x
# ```

# ---

# ### **3. Text Editor / IDE** âœ… REQUIRED (Choose ONE)

# #### **Option A: Visual Studio Code** (Recommended)
# **Download**: https://code.visualstudio.com/

# **Why**: 
# - Free
# - Great Git integration
# - Built-in terminal
# - Syntax highlighting for SQL, Python, YAML

# **Installation**:
# ```
# 1. Download VSCodeUserSetup-x64-1.85.x.exe
# 2. Run installer
# 3. Use default settings
# 4. After install, open VS Code
# 5. Install extensions (optional but helpful):
#    - "Python" by Microsoft
#    - "SQLTools" for SQL editing
#    - "YAML" for config files
# ```

# #### **Option B: Notepad++** (Lightweight)
# **Download**: https://notepad-plus-plus.org/downloads/

# #### **Option C: PyCharm Community** (Full IDE)
# **Download**: https://www.jetbrains.com/pycharm/download/#section=windows

# ---

# ### **4. GitHub Desktop** âœ… OPTIONAL (but makes life easier)

# **What it is**: GUI for Git (easier than command line)

# **Download**: https://desktop.github.com/

# **Installation**:
# ```
# 1. Download GitHubDesktopSetup-x64.exe
# 2. Run installer
# 3. Sign in with your GitHub account
# 4. Clone your repository
# ```

# **Alternative**: Use Git command line (already included with Git for Windows)

# ---

# ### **5. Windows Terminal** âœ… OPTIONAL (but recommended)

# **What it is**: Modern terminal for Windows (better than Command Prompt)

# **Download**: 
# - Windows 11: Already included
# - Windows 10: Microsoft Store â†’ Search "Windows Terminal"

# **Why**: 
# - Tabbed interface
# - Better copy/paste
# - Supports multiple shells (PowerShell, CMD, Git Bash)

# ---

# ## **Installation Order (Step-by-Step)**

# ### **Step 1: Install Git**
# ```
# 1. Go to: https://git-scm.com/download/win
# 2. Download and run installer
# 3. Accept all defaults
# 4. Finish installation
# 5. Open Command Prompt and verify:
#    git --version
# ```

# ### **Step 2: Install Python**
# ```
# 1. Go to: https://www.python.org/downloads/
# 2. Download Python 3.11 or 3.12 for Windows
# 3. Run installer
# 4. âœ… CHECK "Add Python to PATH"
# 5. Click "Install Now"
# 6. Wait for installation
# 7. Open NEW Command Prompt and verify:
#    python --version
#    pip --version
# ```

# ### **Step 3: Install Visual Studio Code**
# ```
# 1. Go to: https://code.visualstudio.com/
# 2. Download Windows installer
# 3. Run installer
# 4. Accept license and defaults
# 5. Launch VS Code
# ```

# ### **Step 4: Install GitHub Desktop (Optional)**
# ```
# 1. Go to: https://desktop.github.com/
# 2. Download installer
# 3. Run installer
# 4. Sign in with GitHub account
# ```

# ---

# ## **After Installation - Setup Your Project**

# ### **1. Clone Your Repository**

# #### **Using GitHub Desktop**:
# ```
# 1. Open GitHub Desktop
# 2. File â†’ Clone Repository
# 3. Select your dbt repository
# 4. Choose local path (e.g., C:\Users\YourName\Projects\dbt-project)
# 5. Click "Clone"
# Using Command Line:
# cmd# Open Command Prompt or Git Bash
# cd C:\Users\YourName\Projects
# git clone https://github.com/your-username/your-dbt-project.git
# cd your-dbt-project

# 2. Install Python Dependencies
# cmd# Navigate to your project folder
# cd C:\Users\YourName\Projects\dbt-project

# # Install dependencies
# pip install pyyaml requests gitpython sqlparse

# # If using dbt locally (optional)
# pip install dbt-core dbt-postgres
# # Or for your specific warehouse:
# # pip install dbt-snowflake
# # pip install dbt-bigquery
# ```

# ---

# ### **3. Install Ollama (for local testing only)**

# **Download**: https://ollama.com/download/windows
# ```
# 1. Download OllamaSetup.exe
# 2. Run installer
# 3. After install, Ollama runs in system tray
# 4. Open PowerShell or CMD and test:
   
#    ollama pull llama3.2:3b
   
#    # This downloads the free LLM (takes 5-10 minutes, ~2GB)
# ```

# **Note**: You don't need Ollama on your Windows machine for the GitHub Actions workflow to work. It only runs on GitHub's servers. Install it locally only if you want to test documentation generation on your computer.

# ---

# ## **Complete Windows Setup Checklist**
# ```
# â˜ Git for Windows installed and working
# â˜ Python 3.11+ installed and added to PATH
# â˜ pip working (can install packages)
# â˜ Visual Studio Code (or other editor) installed
# â˜ GitHub Desktop (optional) installed
# â˜ Repository cloned to local machine
# â˜ Python dependencies installed
# â˜ (Optional) Ollama installed for local testing

# Verify Everything Works
# Open Command Prompt or PowerShell and run:
# cmd# Check Git
# git --version
# # Expected: git version 2.43.0.windows.1

# # Check Python
# python --version
# # Expected: Python 3.11.x or 3.12.x

# # Check pip
# pip --version
# # Expected: pip 23.x.x from C:\Users\...\Python311\...

# # Check if packages installed
# pip list
# # Should show: PyYAML, requests, gitpython, sqlparse

# # (Optional) Check Ollama
# ollama --version
# # Expected: ollama version 0.x.x

# Windows-Specific Configuration
# 1. Configure Git (First Time)
# cmd# Open Command Prompt or Git Bash
# git config --global user.name "Your Name"
# git config --global user.email "your.email@company.com"

# # Verify
# git config --list
# 2. Set Line Endings (Important for Windows)
# cmd# Configure Git to handle Windows line endings
# git config --global core.autocrlf true
# ```

# ---

# ## **Daily Workflow on Windows**

# ### **Using Visual Studio Code**:
# ```
# 1. Open VS Code
# 2. File â†’ Open Folder â†’ Select your dbt-project
# 3. Open integrated terminal (Ctrl + `)
# 4. Create new branch:
   
#    git checkout -b feature/my-new-model
   
# 5. Create/edit SQL file:
#    models/staging/stg_customers.sql
   
# 6. Save file (Ctrl + S)
# 7. Commit changes:
   
#    git add .
#    git commit -m "Add customer staging model"
#    git push origin feature/my-new-model
   
# 8. Go to GitHub in browser
# 9. Create Pull Request
# 10. Watch automation generate docs!
# ```

# ### **Using GitHub Desktop**:
# ```
# 1. Open GitHub Desktop
# 2. Click "Current Branch" â†’ "New Branch"
# 3. Name: feature/my-new-model
# 4. Click "Create Branch"
# 5. Click "Open in Visual Studio Code"
# 6. Edit SQL files
# 7. Save files
# 8. GitHub Desktop shows changes
# 9. Add commit message
# 10. Click "Commit to feature/my-new-model"
# 11. Click "Push origin"
# 12. Click "Create Pull Request" button
# 13. Watch automation work!

# Troubleshooting Windows Issues
# Problem: "Python not found" or "pip not found"
# cmd# Solution: Add Python to PATH manually
# 1. Search "Environment Variables" in Windows
# 2. Click "Environment Variables"
# 3. Under "System Variables", find "Path"
# 4. Click "Edit"
# 5. Click "New"
# 6. Add: C:\Users\YourName\AppData\Local\Programs\Python\Python311
# 7. Add: C:\Users\YourName\AppData\Local\Programs\Python\Python311\Scripts
# 8. Click OK
# 9. Close and reopen Command Prompt
# 10. Try again: python --version
# Problem: "git not found"
# cmd# Solution: Reinstall Git and ensure it's added to PATH
# 1. Uninstall Git
# 2. Reinstall from https://git-scm.com/download/win
# 3. During install, ensure "Git from command line" is selected
# 4. Close and reopen Command Prompt
# 5. Try: git --version
# Problem: Permission errors when installing packages
# cmd# Solution: Run as administrator or use --user flag
# pip install --user pyyaml requests gitpython sqlparse
# Problem: SSL certificate errors
# cmd# Solution: Update pip and certificates
# python -m pip install --upgrade pip
# pip install --upgrade certifi
# ```

# ---

# ## **What You DON'T Need on Windows**

# âŒ **Docker** - Not needed, GitHub Actions runs it
# âŒ **WSL (Windows Subsystem for Linux)** - Not needed
# âŒ **Virtual Machines** - Not needed
# âŒ **Linux** - Not needed
# âŒ **Paid software** - Everything is free
# âŒ **Admin rights** - Mostly not needed (except for some installations)

# ---

# ## **Recommended Windows Setup**

# ### **Minimal Setup** (Absolute minimum):
# ```
# âœ… Git for Windows
# âœ… Python 3.11+
# âœ… Notepad++ or VS Code
# âœ… Web browser for GitHub
# ```

# ### **Recommended Setup** (Better experience):
# ```
# âœ… Git for Windows
# âœ… Python 3.11+
# âœ… Visual Studio Code
# âœ… GitHub Desktop
# âœ… Windows Terminal
# ```

# ### **Power User Setup** (Best experience):
# ```
# âœ… Git for Windows
# âœ… Python 3.11+
# âœ… Visual Studio Code + Extensions
# âœ… GitHub Desktop
# âœ… Windows Terminal
# âœ… Ollama (for local testing)
# âœ… DBeaver or another SQL client

# Quick Start Commands for Windows
# cmd# Create project directory
# mkdir C:\Projects
# cd C:\Projects

# # Clone repository
# git clone https://github.com/your-org/your-dbt-project.git
# cd your-dbt-project

# # Install dependencies
# pip install pyyaml requests gitpython sqlparse

# # Create new branch
# git checkout -b feature/my-feature

# # Make changes to SQL files
# # (use VS Code or any editor)

# # Commit changes
# git add .
# git commit -m "Add new model"

# # Push to GitHub
# git push origin feature/my-feature

# # Create PR on GitHub website
# # Watch automation work!

# System Requirements
# Minimum:

# Windows 10 or 11 (64-bit)
# 4GB RAM
# 10GB free disk space
# Internet connection

# Recommended:

# Windows 10/11 (64-bit)
# 8GB RAM
# 20GB free disk space
# Fast internet connection


# Cost Summary (Windows)
# SoftwareCostWindows 10/11Already have itGitFREEPythonFREEVS CodeFREEGitHub DesktopFREEOllamaFREEGitHub ActionsFREE (2,000 min/month)TOTAL$0.00

# Next Steps After Setup

# âœ… Verify all software installed
# âœ… Clone your repository
# âœ… Install Python dependencies
# âœ… Copy the workflow files (from architecture)
# âœ… Test with one SQL file
# âœ… Create PR and watch it work!

# You're ready to go! ðŸš€
# Need help with any specific Windows installation issue? Let me know!exactl on whihc step i neeed to sleect it 4. Important: Select "Git Bash" during installation7:55 AM2 / 2Git Installation - Detailed Step-by-Step (Windows)
# I'll show you exactly where to select "Git Bash" during installation with screenshots descriptions:

# Git Installation Wizard - Every Screen
# Step 1: Download Git
# 1. Go to: https://git-scm.com/download/win
# 2. Click "Click here to download" (64-bit version)
# 3. File downloads: Git-2.43.0-64-bit.exe (or latest version)
# 4. Run the downloaded file

# Step 2: Installation Screens
# Screen 1: Information
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Git Setup                                  â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  Information about Git license and usage    â”‚
# â”‚                                             â”‚
# â”‚  [Next >]                                   â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Click "Next"

# Screen 2: Select Destination Location
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Select Destination Location                â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  Where should Git be installed?             â”‚
# â”‚                                             â”‚
# â”‚  C:\Program Files\Git        [Browse...]   â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Leave default path, Click "Next"

# Screen 3: Select Components âš ï¸ IMPORTANT
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Select Components                          â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  Which components should be installed?      â”‚
# â”‚                                             â”‚
# â”‚  â˜‘ Additional icons                         â”‚
# â”‚     â˜ On the Desktop                        â”‚
# â”‚  â˜‘ Windows Explorer integration             â”‚
# â”‚     â˜‘ Git Bash Here      â† âœ… IMPORTANT!    â”‚
# â”‚     â˜‘ Git GUI Here                          â”‚
# â”‚  â˜‘ Git LFS (Large File Support)             â”‚
# â”‚  â˜‘ Associate .git* files with default editorâ”‚
# â”‚  â˜‘ Associate .sh files to be run with Bash  â”‚
# â”‚  â˜ Use a TrueType font in all console windowsâ”‚
# â”‚  â˜‘ Check daily for Git for Windows updates  â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: 
# âœ… ENSURE "Git Bash Here" is CHECKED (it usually is by default)
# âœ… Keep other default selections
# Click "Next"
# What "Git Bash Here" does: Adds a right-click menu option in Windows Explorer to open Git Bash terminal in any folder.

# Screen 4: Select Start Menu Folder
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Select Start Menu Folder                   â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  Where should shortcuts be placed?          â”‚
# â”‚                                             â”‚
# â”‚  Git                                        â”‚
# â”‚                                             â”‚
# â”‚  â˜ Don't create a Start Menu folder         â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Leave default "Git", Click "Next"

# Screen 5: Choosing the default editor
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Choosing the default editor used by Git    â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  Which editor would you like Git to use?    â”‚
# â”‚                                             â”‚
# â”‚  â¦¿ Use Vim (the ubiquitous text editor)     â”‚
# â”‚  â—‹ Use Notepad++                            â”‚
# â”‚  â—‹ Use Visual Studio Code                   â”‚
# â”‚  â—‹ Use Visual Studio Code Insiders          â”‚
# â”‚  â—‹ ...other options...                      â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: 
# RECOMMENDED: Select "Use Visual Studio Code" if you have VS Code
# OR leave default "Use Vim"
# Click "Next"

# Screen 6: Adjusting the name of the initial branch
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Adjusting the name of the initial branch   â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  â¦¿ Let Git decide                           â”‚
# â”‚  â—‹ Override the default branch name         â”‚
# â”‚     New branches will be named: [main]      â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Leave default "Let Git decide", Click "Next"

# Screen 7: Adjusting your PATH environment âš ï¸ IMPORTANT
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Adjusting your PATH environment            â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  How should Git be used from command line?  â”‚
# â”‚                                             â”‚
# â”‚  â—‹ Use Git from Git Bash only               â”‚
# â”‚  â¦¿ Git from the command line and also       â”‚
# â”‚     from 3rd-party software  â† âœ… DEFAULT   â”‚
# â”‚  â—‹ Use Git and optional Unix tools from     â”‚
# â”‚     Windows Command Prompt                  â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: 
# âœ… SELECT "Git from the command line and also from 3rd-party software"
#    (This is usually selected by default)
# Click "Next"

# WHY: This allows you to use Git from:
# - Git Bash
# - Command Prompt (CMD)
# - PowerShell
# - Windows Terminal
# - VS Code

# Screen 8: Choosing HTTPS transport backend
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Choosing HTTPS transport backend           â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  Which SSL/TLS library should be used?      â”‚
# â”‚                                             â”‚
# â”‚  â¦¿ Use the OpenSSL library                  â”‚
# â”‚  â—‹ Use the native Windows Secure Channel    â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Leave default "Use the OpenSSL library", Click "Next"

# Screen 9: Configuring line ending conversions
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Configuring line ending conversions        â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  How should Git treat line endings?         â”‚
# â”‚                                             â”‚
# â”‚  â¦¿ Checkout Windows-style, commit Unix-styleâ”‚
# â”‚  â—‹ Checkout as-is, commit Unix-style        â”‚
# â”‚  â—‹ Checkout as-is, commit as-is             â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Leave default "Checkout Windows-style, commit Unix-style"
# Click "Next"

# WHY: This prevents issues when collaborating with Mac/Linux users

# Screen 10: Configuring the terminal emulator
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Configuring the terminal emulator          â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  Which terminal should Git Bash use?        â”‚
# â”‚                                             â”‚
# â”‚  â¦¿ Use MinTTY (the default terminal)        â”‚
# â”‚  â—‹ Use Windows' default console window      â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Leave default "Use MinTTY", Click "Next"

# Screen 11: Choose default behavior of 'git pull'
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Choose default behavior of 'git pull'      â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  â¦¿ Default (fast-forward or merge)          â”‚
# â”‚  â—‹ Rebase                                   â”‚
# â”‚  â—‹ Only ever fast-forward                   â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Leave default "Default (fast-forward or merge)", Click "Next"

# Screen 12: Choose a credential helper
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Choose a credential helper                 â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  â¦¿ Git Credential Manager                   â”‚
# â”‚  â—‹ None                                     â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Leave default "Git Credential Manager", Click "Next"

# WHY: This stores your GitHub credentials securely

# Screen 13: Configuring extra options
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Configuring extra options                  â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  â˜‘ Enable file system caching               â”‚
# â”‚  â˜‘ Enable symbolic links                    â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Next >]  [Cancel]              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Keep both boxes checked, Click "Next"

# Screen 14: Configuring experimental options
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Configuring experimental options           â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  â˜ Enable experimental support for...       â”‚
# â”‚  â˜ Enable experimental built-in...          â”‚
# â”‚                                             â”‚
# â”‚  [< Back]  [Install]  [Cancel]             â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Leave unchecked, Click "Install"

# Screen 15: Installing
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Installing Git for Windows                 â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ        ] 85% â”‚
# â”‚                                             â”‚
# â”‚  Extracting files...                        â”‚
# â”‚                                             â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: Wait for installation (takes 1-2 minutes)

# Screen 16: Completing Setup
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Completing Git Setup                       â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                             â”‚
# â”‚  â˜‘ Launch Git Bash                          â”‚
# â”‚  â˜ View Release Notes                       â”‚
# â”‚                                             â”‚
# â”‚  [Finish]                                   â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# ACTION: 
# âœ… CHECK "Launch Git Bash" 
# Click "Finish"

# After Installation - Verify Git Bash Works
# Method 1: From Anywhere
# 1. Press Windows key
# 2. Type "git bash"
# 3. Click "Git Bash" app
# 4. Terminal window opens
# 5. Type: git --version
# 6. You should see: git version 2.43.0.windows.1
# Method 2: Right-Click in Folder
# 1. Open File Explorer
# 2. Navigate to any folder (e.g., C:\Projects)
# 3. Right-click in empty space
# 4. You should see "Git Bash Here" in menu
# 5. Click it
# 6. Git Bash opens in that folder
# Method 3: From Command Prompt
# 1. Press Windows + R
# 2. Type: cmd
# 3. Press Enter
# 4. Type: git --version
# 5. Should show: git version 2.43.0.windows.1

# Quick Summary - Important Selections
# ScreenWhat to SelectWhyScreen 3: Componentsâœ… "Git Bash Here"Adds right-click menuScreen 7: PATHâœ… "Git from command line and also from 3rd-party software"Use Git everywhereScreen 9: Line endingsâœ… "Checkout Windows-style, commit Unix-style"Cross-platform compatibilityScreen 12: Credentialsâœ… "Git Credential Manager"Store GitHub login

# What is Git Bash?
# Git Bash is a terminal application that provides:

# Unix-style command line on Windows
# Git commands (git clone, git commit, etc.)
# Unix utilities (ls, cd, mkdir, etc.)
# Bash scripting support

# You can use it instead of Windows Command Prompt or PowerShell for Git operations.

# After Installation - First Time Setup
# Open Git Bash and configure:
# bash# Set your name (shows in commits)
# git config --global user.name "Your Full Name"

# # Set your email (must match GitHub email)
# git config --global user.email "your.email@company.com"

# # Verify settings
# git config --list

# # You should see:
# # user.name=Your Full Name
# # user.email=your.email@company.com

# Testing Git Bash
# bash# Open Git Bash and test basic commands:

# # Show current directory
# pwd

# # List files
# ls

# # Navigate to a folder
# cd /c/Users/YourName/Documents

# # Create a test folder
# mkdir test-git
# cd test-git

# # Initialize a Git repository
# git init

# # Check status
# git status

# # If all these work, Git is installed correctly! âœ…
# ```

# ---

# ## **Troubleshooting**

# ### **Problem: "Git Bash Here" doesn't appear in right-click menu**
# ```
# Solution:
# 1. Uninstall Git (Control Panel â†’ Programs â†’ Git)
# 2. Reinstall Git
# 3. On "Select Components" screen, ENSURE "Git Bash Here" is CHECKED
# 4. Complete installation
# ```

# ### **Problem: Can't find Git Bash application**
# ```
# Solution:
# 1. Press Windows key
# 2. Type: "git bash"
# 3. If not found, check installation:
#    - Look in: C:\Program Files\Git\git-bash.exe
#    - If not there, reinstall Git
# ```

# ### **Problem: Git commands don't work in Command Prompt**
# ```
# Solution:
# 1. Close all terminals
# 2. Reinstall Git
# 3. On "Adjusting PATH" screen, select:
#    "Git from command line and also from 3rd-party software"
# 4. Complete installation
# 5. Open NEW Command Prompt
# 6. Test: git --version

# Now you know exactly when and how to select Git Bash during installation! The key screen is Screen 3 (Select Components) where "Git Bash Here" should be checked. âœ…Welcome to the Python installation manager configuration helper.
# ********************************************************************************
# Your app execution alias settings are configured to launch other commands besides 'py' and 'python'.
# This can be fixed by opening the 'Manage app execution aliases' settings page
# and enabling each item labelled 'Python (default)' and 'Python install
# manager'.
# Open Settings now, so you can modify App execution aliases? [y/N]8:06 AM2 / 2Python Installation Issue - App Execution Aliases
# This message appears because Windows has built-in Python shortcuts that conflict with the real Python installation.

# Quick Fix (Recommended)
# Answer the Prompt:
# Open Settings now, so you can modify App execution aliases? [y/N]
# Type: y and press Enter
# This will open Windows Settings automatically.

# In the Settings Window That Opens:
# You'll see a page called "App execution aliases" with entries like:
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Manage app execution aliases                       â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
# â”‚                                                     â”‚
# â”‚  App Installer                                      â”‚
# â”‚    python.exe              [Toggle: ON/OFF]        â”‚
# â”‚    python3.exe             [Toggle: ON/OFF]        â”‚
# â”‚                                                     â”‚
# â”‚  Python 3.11 (64-bit)                              â”‚
# â”‚    python.exe              [Toggle: ON/OFF]        â”‚
# â”‚    python3.exe             [Toggle: ON/OFF]        â”‚
# â”‚    pythonw.exe             [Toggle: ON/OFF]        â”‚
# â”‚                                                     â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# What to Do:

# Turn OFF the toggles under "App Installer" section:

# âŒ python.exe (under App Installer) â†’ Turn OFF
# âŒ python3.exe (under App Installer) â†’ Turn OFF


# Leave ON the toggles under "Python 3.11" section:

# âœ… python.exe (under Python 3.11) â†’ Keep ON
# âœ… python3.exe (under Python 3.11) â†’ Keep ON
# âœ… pythonw.exe (under Python 3.11) â†’ Keep ON


# Close the Settings window
# Return to the installer and continue


# Manual Method (If Settings Doesn't Open)
# Step 1: Open Settings Manually
# 1. Press Windows key
# 2. Type: "app execution aliases"
# 3. Click "Manage app execution aliases"
# OR
# 1. Press Windows key
# 2. Open "Settings"
# 3. Go to "Apps" â†’ "Apps & features"
# 4. Click "App execution aliases" (on the left or scroll down)
# Step 2: Disable App Installer Python
# Find entries that say "App Installer":
  
#   App Installer
#     python.exe    [Toggle]  â† Turn this OFF
#     python3.exe   [Toggle]  â† Turn this OFF

# Leave the Python 3.11 entries ON:

#   Python 3.11 (64-bit)
#     python.exe    [Toggle]  â† Keep this ON
#     python3.exe   [Toggle]  â† Keep this ON
# Step 3: Continue Installation
# 1. Return to Python installer
# 2. Click "Next" or continue the installation
# 3. Complete the installation normally

# After Installation - Verify
# Open a NEW Command Prompt (important - must be new):
# cmd# Close any open Command Prompts first
# # Open a NEW Command Prompt

# # Test Python
# python --version

# # Should show:
# Python 3.11.x (or 3.12.x)

# # NOT:
# Python was not found; run without arguments to install from the Microsoft Store...
# ```

# If you still see the "Microsoft Store" message, see troubleshooting below.

# ---

# ## **Complete Step-by-Step with Screenshots Description**

# ### **What You'll See:**
# ```
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Python 3.11.x Setup                                         â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                                              â”‚
# â”‚  Welcome to the Python installation manager configuration   â”‚
# â”‚  helper.                                                     â”‚
# â”‚  ************************************************************â”‚
# â”‚  Your app execution alias settings are configured to launch  â”‚
# â”‚  other commands besides 'py' and 'python'.                   â”‚
# â”‚  This can be fixed by opening the 'Manage app execution      â”‚
# â”‚  aliases' settings page and enabling each item labelled      â”‚
# â”‚  'Python (default)' and 'Python install manager'.            â”‚
# â”‚                                                              â”‚
# â”‚  Open Settings now, so you can modify App execution          â”‚
# â”‚  aliases? [y/N]                                              â”‚
# â”‚                                                              â”‚
# â”‚  > _                                                         â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# ```

# **Type:** `y` **and press Enter**

# ---

# ### **Settings Window Opens:**
# ```
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Settings > Apps > App execution aliases                     â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                                              â”‚
# â”‚  Choose which apps can use 'python' command                  â”‚
# â”‚                                                              â”‚
# â”‚  ðŸ“¦ App Installer                                            â”‚
# â”‚     python.exe              [â—â”€â”€â”€] ON  â† Turn to OFF        â”‚
# â”‚     python3.exe             [â—â”€â”€â”€] ON  â† Turn to OFF        â”‚
# â”‚                                                              â”‚
# â”‚  ðŸ Python 3.11 (64-bit)                                     â”‚
# â”‚     python.exe              [â”€â”€â”€â—‹] OFF â† Turn to ON         â”‚
# â”‚     python3.exe             [â”€â”€â”€â—‹] OFF â† Turn to ON         â”‚
# â”‚     pythonw.exe             [â”€â”€â”€â—‹] OFF â† Turn to ON         â”‚
# â”‚                                                              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# ```

# **Action:**
# 1. Click the "App Installer" toggles to **OFF** (left side)
# 2. Click the "Python 3.11" toggles to **ON** (right side)
# 3. Close Settings window

# ---

# ### **Back to Installer:**
# ```
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Python 3.11.x Setup                                         â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                                              â”‚
# â”‚  Setup is ready to begin installation.                       â”‚
# â”‚                                                              â”‚
# â”‚  Install Now                                                 â”‚
# â”‚  Installs Python 3.11.x with pip and IDLE                   â”‚
# â”‚  Add Python to PATH âœ“                                        â”‚
# â”‚                                                              â”‚
# â”‚  [Install Now]                                               â”‚
# â”‚                                                              â”‚
# â”‚  Customize installation                                      â”‚
# â”‚                                                              â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# ```

# **Make sure:**
# - âœ… "Add Python to PATH" is **CHECKED**
# - Click **"Install Now"**

# ---

# ## **Why This Happens**

# Windows 10/11 includes **placeholder Python shortcuts** that:
# - Open Microsoft Store when you type `python`
# - Don't actually run Python
# - Interfere with real Python installation

# **Disabling these shortcuts** allows your real Python installation to work.

# ---

# ## **Troubleshooting**

# ### **Problem: After installation, `python` still opens Microsoft Store**

# **Solution 1: Check App Execution Aliases Again**
# ```
# 1. Press Windows key
# 2. Type "app execution aliases"
# 3. Open settings
# 4. Verify App Installer python.exe is OFF
# 5. Verify Python 3.11 python.exe is ON
# 6. Close ALL Command Prompts
# 7. Open NEW Command Prompt
# 8. Test: python --version
# ```

# **Solution 2: Add Python to PATH Manually**
# ```
# 1. Press Windows key
# 2. Type "environment variables"
# 3. Click "Edit system environment variables"
# 4. Click "Environment Variables" button
# 5. Under "System variables", find "Path"
# 6. Click "Edit"
# 7. Click "New"
# 8. Add these two paths:
#    C:\Users\YourName\AppData\Local\Programs\Python\Python311
#    C:\Users\YourName\AppData\Local\Programs\Python\Python311\Scripts
# 9. Click OK on all windows
# 10. Close ALL Command Prompts
# 11. Open NEW Command Prompt
# 12. Test: python --version
# ```

# **Solution 3: Use `py` command instead**
# ```
# # If python command doesn't work, use py:
# py --version
# py -m pip install package-name

# # This always works on Windows

# Alternative: Skip This Step
# If you're having trouble with the settings:

# Answer n at the prompt (or just press Enter)
# Continue installation
# Use py command instead of python:

# cmd# Instead of:
# python --version
# python script.py
# pip install package

# # Use:
# py --version
# py script.py
# py -m pip install package
# ```

# The `py` command (Python Launcher) is installed automatically and always works.

# ---

# ## **What Each Command Does**

# | Command | What It Does |
# |---------|-------------|
# | `python` | Runs Python (if PATH is set correctly) |
# | `py` | Python Launcher (always works on Windows) |
# | `python3` | Alternative Python command |
# | `pip` | Package installer |
# | `py -m pip` | Package installer (guaranteed to work) |

# ---

# ## **Recommended Action**

# **For this prompt:**
# ```
# Open Settings now, so you can modify App execution aliases? [y/N]
# Type: y and press Enter
# Then follow the settings changes above.
# This is the cleanest solution and ensures python command works everywhere (Command Prompt, PowerShell, VS Code, etc.).

# After fixing this, your Python installation will complete successfully! âœ…how to upgrade version with cmd becasue ialread have old version8:08 AMUpgrade Python to Latest Version (Windows CMD)
# You have an old Python version and want to upgrade. Here's how:

# Method 1: Download and Install New Version (Recommended)
# Step 1: Check Current Version
# cmdpython --version
# # or
# py --version

# # Example output: Python 3.8.10 (old version)
# ```

# ### **Step 2: Download Latest Python**
# ```
# 1. Go to: https://www.python.org/downloads/
# 2. Click the big yellow "Download Python 3.12.x" button
# 3. Save the installer file
# ```

# ### **Step 3: Run Installer**
# ```
# IMPORTANT: The installer will DETECT your old version and offer to upgrade!

# When you run the installer, you'll see:

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Python 3.12.x Setup                         â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                              â”‚
# â”‚  An older version of Python is installed.   â”‚
# â”‚  Would you like to upgrade?                  â”‚
# â”‚                                              â”‚
# â”‚  â¦¿ Upgrade Now (Recommended)                 â”‚
# â”‚  â—‹ Install Python 3.12.x alongside           â”‚
# â”‚  â—‹ Customize installation                    â”‚
# â”‚                                              â”‚
# â”‚  â˜‘ Add Python 3.12 to PATH                   â”‚
# â”‚                                              â”‚
# â”‚  [Upgrade Now]                               â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# ```

# **Action:**
# 1. âœ… **CHECK** "Add Python 3.12 to PATH"
# 2. Select **"Upgrade Now"**
# 3. Click **"Upgrade Now"** button
# 4. Wait for installation (2-3 minutes)
# 5. Click **"Close"** when done

# ---

# ## **Method 2: Uninstall Old, Install New (Clean Install)**

# ### **Step 1: Uninstall Old Python**
# ```
# 1. Press Windows key
# 2. Type "Add or remove programs"
# 3. Press Enter
# 4. Search for "Python"
# 5. You'll see entries like:
#    - Python 3.8.10 (64-bit)
#    - Python 3.9.7 Launcher
   
# 6. Click on each Python entry
# 7. Click "Uninstall"
# 8. Follow prompts
# 9. Repeat for ALL Python entries
# Step 2: Verify Uninstall
# cmd# Open NEW Command Prompt
# python --version

# # Should show error or open Microsoft Store
# # This confirms Python is uninstalled
# ```

# ### **Step 3: Install Latest Python**
# ```
# 1. Go to: https://www.python.org/downloads/
# 2. Download Python 3.12.x installer
# 3. Run installer
# 4. âœ… CHECK "Add Python to PATH"
# 5. Click "Install Now"
# 6. Wait for installation
# 7. Click "Close"
# Step 4: Verify New Installation
# cmd# Close all Command Prompts
# # Open NEW Command Prompt

# python --version
# # Should show: Python 3.12.x

# pip --version
# # Should show: pip 23.x.x from Python 3.12

# Method 3: Using Python Installer from CMD (Advanced)
# Download Installer via CMD
# cmd# Open Command Prompt as Administrator
# # Press Windows + X, select "Command Prompt (Admin)"

# # Navigate to Downloads folder
# cd %USERPROFILE%\Downloads

# # Download latest Python using PowerShell
# powershell -Command "Invoke-WebRequest -Uri 'https://www.python.org/ftp/python/3.12.1/python-3.12.1-amd64.exe' -OutFile 'python-installer.exe'"

# # Run installer silently (upgrade mode)
# python-installer.exe /upgrade PrependPath=1 Include_test=0

# # Wait for installation to complete

# Method 4: Using Chocolatey (Package Manager)
# If you have Chocolatey installed:
# cmd# Open Command Prompt as Administrator

# # Upgrade Python
# choco upgrade python -y

# # Verify
# python --version
# Don't have Chocolatey? Install it first:
# cmd# Open PowerShell as Administrator

# # Install Chocolatey
# Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))

# # Then upgrade Python
# choco upgrade python -y

# After Upgrade - Important Steps
# Step 1: Verify Installation
# cmd# Close ALL existing Command Prompts
# # Open NEW Command Prompt

# # Check Python version
# python --version
# # Should show: Python 3.12.x

# # Check pip version
# pip --version
# # Should show: pip 23.x.x

# # Check Python location
# where python
# # Should show: C:\Users\YourName\AppData\Local\Programs\Python\Python312\python.exe
# Step 2: Upgrade pip
# cmd# Upgrade pip to latest version
# python -m pip install --upgrade pip

# # Verify
# pip --version
# Step 3: Reinstall Packages
# If you had packages installed in the old version, reinstall them:
# cmd# List your packages (if old Python still accessible)
# # First, save your old packages list
# py -3.8 -m pip freeze > old_packages.txt

# # Install in new Python
# pip install -r old_packages.txt
# Or install commonly needed packages:
# cmdpip install pyyaml requests gitpython sqlparse

# Troubleshooting Common Issues
# Problem: python --version still shows old version
# Solution:
# cmd# 1. Close ALL Command Prompts and terminals
# # 2. Press Windows + R
# # 3. Type: sysdm.cpl
# # 4. Press Enter
# # 5. Click "Environment Variables"
# # 6. Under "System variables", find "Path"
# # 7. Click "Edit"
# # 8. Look for old Python paths like:
# #    C:\Users\YourName\AppData\Local\Programs\Python\Python38
# # 9. Remove old Python paths
# # 10. Make sure new Python path is at TOP:
# #     C:\Users\YourName\AppData\Local\Programs\Python\Python312
# # 11. Click OK on all windows
# # 12. Open NEW Command Prompt
# # 13. Test: python --version
# Problem: Multiple Python versions showing
# Solution:
# cmd# Find all Python installations
# where python
# # Shows all Python.exe locations

# # Example output:
# C:\Users\YourName\AppData\Local\Programs\Python\Python312\python.exe
# C:\Users\YourName\AppData\Local\Programs\Python\Python38\python.exe

# # Use specific version with py launcher:
# py -3.12 --version  # Use Python 3.12
# py -3.8 --version   # Use Python 3.8

# # Set default version:
# # Go to Environment Variables (as above)
# # Move Python312 path ABOVE Python38 path
# Problem: Permission errors during upgrade
# Solution:
# cmd# Run Command Prompt as Administrator:
# # 1. Press Windows key
# # 2. Type "cmd"
# # 3. Right-click "Command Prompt"
# # 4. Select "Run as administrator"
# # 5. Try upgrade again
# Problem: Old packages not working in new Python
# Solution:
# cmd# Reinstall packages in new Python version
# pip install --upgrade --force-reinstall package-name

# # Or reinstall all packages
# pip list --format=freeze > requirements.txt
# pip install --upgrade --force-reinstall -r requirements.txt
# ```

# ---

# ## **Complete Upgrade Checklist**
# ```
# â˜ Check current Python version
# â˜ Download latest Python installer
# â˜ Run installer with "Upgrade Now"
# â˜ Ensure "Add Python to PATH" is checked
# â˜ Close all Command Prompts after installation
# â˜ Open NEW Command Prompt
# â˜ Verify: python --version shows new version
# â˜ Upgrade pip: python -m pip install --upgrade pip
# â˜ Reinstall needed packages
# â˜ Test: pip install pyyaml requests
# â˜ Remove old Python versions from PATH if needed
# ```

# ---

# ## **Recommended Approach (Safest)**

# **For your case, I recommend Method 1 (Upgrade):**
# ```
# 1. Download Python 3.12.x from python.org
# 2. Run installer
# 3. Choose "Upgrade Now"
# 4. Check "Add Python to PATH"
# 5. Click "Upgrade Now"
# 6. Wait for completion
# 7. Close all terminals
# 8. Open new Command Prompt
# 9. Test: python --version
# 10. Upgrade pip: python -m pip install --upgrade pip
# This preserves your settings and automatically handles the old version.

# Quick Commands Reference
# cmd# Check version
# python --version

# # Use specific Python version (if multiple installed)
# py -3.12 --version
# py -3.8 --version

# # Upgrade pip
# python -m pip install --upgrade pip

# # Install packages
# pip install package-name

# # List installed packages
# pip list

# # Find Python location
# where python

# # Check all Python versions
# py --list

# After upgrading, you'll have the latest Python with all security updates and new features! ðŸš€
# Do you want to proceed with Method 1 (Upgrade) or Method 2 (Clean Install)?Python 3.13.9 i have this what next8:10 AMGreat! Python 3.13.9 is Installed - Next Steps
# You have the latest Python version. Now let's set up everything for the SQL Documentation Generator.

# Step 1: Verify Python is Working Correctly
# Open Command Prompt and run:
# cmdpython --version
# # Should show: Python 3.13.9

# pip --version
# # Should show: pip 24.x.x from ...Python313...

# # If these work, you're good! âœ…

# Step 2: Install Required Python Packages
# Copy and paste this command:
# cmdpip install pyyaml requests gitpython sqlparse
# ```

# **What this installs:**
# - `pyyaml` - For reading configuration files
# - `requests` - For API calls (to Ollama)
# - `gitpython` - For Git operations
# - `sqlparse` - For parsing SQL code

# **Expected output:**
# ```
# Collecting pyyaml
#   Downloading PyYAML-6.0.1-cp313-cp313-win_amd64.whl
# Collecting requests
#   Downloading requests-2.31.0-py3-none-any.whl
# Collecting gitpython
#   Downloading GitPython-3.1.40-py3-none-any.whl
# Collecting sqlparse
#   Downloading sqlparse-0.4.4-py3-none-any.whl
# Installing collected packages: ...
# Successfully installed pyyaml-6.0.1 requests-2.31.0 gitpython-3.1.40 sqlparse-0.4.4

# Step 3: Verify Packages Installed
# cmdpip list

# # You should see:
# # Package          Version
# # ---------------- -------
# # gitpython        3.1.40
# # PyYAML           6.0.1
# # requests         2.31.0
# # sqlparse         0.4.4
# # ... (and other packages)

# Step 4: Install dbt-core (for your data warehouse)
# Choose based on your data warehouse:
# For PostgreSQL:
# cmdpip install dbt-core dbt-postgres
# For Snowflake:
# cmdpip install dbt-core dbt-snowflake
# For BigQuery:
# cmdpip install dbt-core dbt-bigquery
# For Redshift:
# cmdpip install dbt-core dbt-redshift
# For SQL Server:
# cmdpip install dbt-core dbt-sqlserver
# Not sure? Install just dbt-core for now:
# cmdpip install dbt-core
# Verify dbt installation:
# cmddbt --version

# # Should show something like:
# # Core:
# #   - installed: 1.7.x
# #   - latest:    1.7.x
# ```

# ---

# ## **Step 5: Set Up Your GitHub Repository**

# ### **Option A: Using GitHub Desktop (Easier)**
# ```
# 1. Download GitHub Desktop: https://desktop.github.com/
# 2. Install it
# 3. Sign in with your GitHub account
# 4. Click "Clone Repository"
# 5. Select your dbt project repository
# 6. Choose local path (e.g., C:\Projects\my-dbt-project)
# 7. Click "Clone"
# Option B: Using Command Line
# cmd# Create a projects folder
# mkdir C:\Projects
# cd C:\Projects

# # Clone your repository
# git clone https://github.com/your-username/your-dbt-project.git

# # Navigate into it
# cd your-dbt-project

# # Verify you're in the right place
# dir

# # You should see:
# # - models/ folder
# # - dbt_project.yml file
# If you don't have a dbt repository yet:
# cmd# Create a new folder for your project
# mkdir C:\Projects\my-dbt-project
# cd C:\Projects\my-dbt-project

# # Initialize Git
# git init

# # Create basic dbt structure
# mkdir models
# mkdir models\staging
# mkdir models\intermediate
# mkdir models\marts
# mkdir business_docs

# # Create dbt_project.yml
# notepad dbt_project.yml
# In notepad, paste this basic dbt_project.yml:
# yamlname: 'my_dbt_project'
# version: '1.0.0'
# config-version: 2

# profile: 'default'

# model-paths: ["models"]
# analysis-paths: ["analyses"]
# test-paths: ["tests"]
# seed-paths: ["seeds"]
# macro-paths: ["macros"]
# snapshot-paths: ["snapshots"]

# target-path: "target"
# clean-targets:
#   - "target"
#   - "dbt_packages"

# models:
#   my_dbt_project:
#     staging:
#       +materialized: view
#     intermediate:
#       +materialized: view
#     marts:
#       +materialized: table
# Save and close.

# Step 6: Create the Free Documentation Generator Files
# Create folder structure:
# cmd# Navigate to your project root
# cd C:\Projects\my-dbt-project

# # Create folders
# mkdir .github
# mkdir .github\workflows
# mkdir .github\scripts
# mkdir .github\scripts\doc_generator
# mkdir .github\config
# Create the workflow file:
# cmdnotepad .github\workflows\sql-doc-generator.yml
# Paste this content (I'll provide the complete free version):
# yamlname: Free SQL Documentation Generator

# on:
#   pull_request:
#     paths:
#       - 'models/**/*.sql'
#     types: [opened, synchronize, reopened]
#   workflow_dispatch:

# jobs:
#   generate-docs:
#     runs-on: ubuntu-latest
#     permissions:
#       contents: write
#       pull-requests: write
    
#     steps:
#       - name: Checkout
#         uses: actions/checkout@v4
#         with:
#           ref: ${{ github.head_ref }}
#           fetch-depth: 0
      
#       - name: Get changed files
#         id: changed-files
#         uses: tj-actions/changed-files@v41
#         with:
#           files: models/**/*.sql
      
#       - name: Setup Python
#         if: steps.changed-files.outputs.any_changed == 'true'
#         uses: actions/setup-python@v5
#         with:
#           python-version: '3.11'
      
#       - name: Install Ollama
#         if: steps.changed-files.outputs.any_changed == 'true'
#         run: |
#           curl -fsSL https://ollama.com/install.sh | sh
#           ollama serve &
#           sleep 5
#           ollama pull llama3.2:3b
      
#       - name: Install dependencies
#         if: steps.changed-files.outputs.any_changed == 'true'
#         run: |
#           pip install pyyaml requests gitpython sqlparse
      
#       - name: Generate documentation
#         if: steps.changed-files.outputs.any_changed == 'true'
#         env:
#           CHANGED_FILES: ${{ steps.changed-files.outputs.all_changed_files }}
#           OLLAMA_HOST: "http://localhost:11434"
#         run: |
#           python .github/scripts/doc_generator/main.py
      
#       - name: Commit docs
#         if: steps.changed-files.outputs.any_changed == 'true'
#         run: |
#           git config user.name "SQL Doc Bot"
#           git config user.email "bot@actions"
#           git add models/**/*.md
#           git diff --cached --quiet || git commit -m "ðŸ“ Auto-generate SQL documentation"
#           git push
      
#       - name: Comment on PR
#         if: steps.changed-files.outputs.any_changed == 'true'
#         uses: actions/github-script@v7
#         with:
#           script: |
#             github.rest.issues.createComment({
#               issue_number: context.issue.number,
#               owner: context.repo.owner,
#               repo: context.repo.repo,
#               body: '## ðŸ“š SQL Documentation Generated\n\n**Cost**: $0.00 âœ…\n**Generator**: Ollama (Free)\n\nDocumentation files have been created next to your SQL files.'
#             });
# Save and close.

# Create the Python generator script:
# cmdnotepad .github\scripts\doc_generator\main.py
# Paste this content:
# python#!/usr/bin/env python3
# import os
# import sys
# import json
# import requests
# from pathlib import Path
# import re

# class FreeDocGenerator:
#     def __init__(self):
#         self.ollama_host = os.getenv('OLLAMA_HOST', 'http://localhost:11434')
#         self.model = "llama3.2:3b"
    
#     def generate_all(self):
#         changed_files = os.getenv('CHANGED_FILES', '').split()
        
#         for sql_file in changed_files:
#             if not sql_file.endswith('.sql'):
#                 continue
            
#             print(f"\nProcessing: {sql_file}")
            
#             try:
#                 self.generate_doc(sql_file)
#                 print(f"âœ… Success: {sql_file}")
#             except Exception as e:
#                 print(f"âŒ Error: {sql_file} - {e}")
#                 self.generate_template_based(sql_file)
    
#     def generate_doc(self, sql_file):
#         with open(sql_file, 'r', encoding='utf-8') as f:
#             sql_content = f.read()
        
#         model_name = Path(sql_file).stem
#         dependencies = self.extract_dependencies(sql_content)
        
#         prompt = self.build_prompt(model_name, sql_content, dependencies)
        
#         try:
#             documentation = self.generate_with_ollama(prompt)
#         except:
#             print(f"âš ï¸ Ollama failed, using template")
#             documentation = self.template_doc(model_name, sql_content, dependencies)
        
#         output_path = Path(sql_file).with_suffix('.md')
#         output_path.parent.mkdir(parents=True, exist_ok=True)
        
#         with open(output_path, 'w', encoding='utf-8') as f:
#             f.write(documentation)
        
#         print(f"âœ… Saved: {output_path}")
    
#     def extract_dependencies(self, sql_content):
#         deps = []
#         ref_pattern = r"ref\(['\"]([^'\"]+)['\"]\)"
#         deps.extend(re.findall(ref_pattern, sql_content))
        
#         source_pattern = r"source\(['\"]([^'\"]+)['\"],\s*['\"]([^'\"]+)['\"]\)"
#         sources = re.findall(source_pattern, sql_content)
#         deps.extend([f"{s[0]}.{s[1]}" for s in sources])
        
#         return list(set(deps))
    
#     def build_prompt(self, model_name, sql_content, dependencies):
#         return f"""Generate technical documentation for this dbt SQL model.

# Model: {model_name}

# SQL Code:
# ```sql
# {sql_content}
# ```

# Dependencies: {', '.join(dependencies) if dependencies else 'None'}

# Create documentation with these sections:
# 1. Overview (2-3 sentences)
# 2. Business Purpose
# 3. Data Sources
# 4. Transformation Logic
# 5. Output Schema
# 6. Usage Examples

# Format in Markdown."""
    
#     def generate_with_ollama(self, prompt):
#         response = requests.post(
#             f"{self.ollama_host}/api/generate",
#             json={
#                 "model": self.model,
#                 "prompt": prompt,
#                 "stream": False,
#                 "options": {"temperature": 0.3}
#             },
#             timeout=300
#         )
#         response.raise_for_status()
#         return response.json().get('response', '')
    
#     def template_doc(self, model_name, sql_content, dependencies):
#         return f"""# {model_name}

# *Auto-generated documentation*

# ## Overview

# This dbt model transforms data for downstream analytics use.

# ## Dependencies

# {chr(10).join(['- ' + dep for dep in dependencies]) if dependencies else '*No dependencies*'}

# ## SQL Code
# ```sql
# {sql_content}
# ```

# ## Usage
# ```sql
# select * from {{{{ ref('{model_name}') }}}}
# ```

# ---
# *Generated by Free SQL Doc Generator*
# """
    
#     def generate_template_based(self, sql_file):
#         with open(sql_file, 'r', encoding='utf-8') as f:
#             sql_content = f.read()
        
#         model_name = Path(sql_file).stem
#         dependencies = self.extract_dependencies(sql_content)
#         documentation = self.template_doc(model_name, sql_content, dependencies)
        
#         output_path = Path(sql_file).with_suffix('.md')
#         with open(output_path, 'w', encoding='utf-8') as f:
#             f.write(documentation)

# if __name__ == '__main__':
#     generator = FreeDocGenerator()
#     generator.generate_all()
# Save and close.

# Step 7: Create a Test SQL File
# cmd# Create a test SQL file
# notepad models\staging\stg_customers.sql
# Paste this example:
# sqlwith source as (
#     select * from {{ source('raw', 'customers') }}
# ),

# transformed as (
#     select
#         customer_id,
#         customer_name,
#         email,
#         created_at,
#         updated_at
#     from source
#     where customer_status = 'active'
# )

# select * from transformed
# Save and close.

# Step 8: Test Locally (Optional)
# cmd# Set environment variable
# set CHANGED_FILES=models\staging\stg_customers.sql

# # Run generator
# python .github\scripts\doc_generator\main.py

# # Check output
# dir models\staging\

# # You should see:
# # stg_customers.sql
# # stg_customers.md  â† NEW!

# # View the documentation
# notepad models\staging\stg_customers.md

# Step 9: Push to GitHub
# cmd# Add all files
# git add .

# # Commit
# git commit -m "Add free SQL documentation generator"

# # Push to GitHub
# git push origin main

# Step 10: Test the Workflow
# cmd# Create a new branch
# git checkout -b feature/test-docs

# # Modify the SQL file
# notepad models\staging\stg_customers.sql
# # Add a comment or change something

# # Save, then commit
# git add models\staging\stg_customers.sql
# git commit -m "Test documentation generation"

# # Push
# git push origin feature/test-docs

# # Go to GitHub in your browser
# # Create a Pull Request
# # Watch the workflow run! ðŸš€
# ```

# ---

# ## **Complete Setup Checklist**
# ```
# âœ… Python 3.13.9 installed
# âœ… pip working
# âœ… Packages installed (pyyaml, requests, gitpython, sqlparse)
# âœ… dbt-core installed
# âœ… Git installed and configured
# âœ… Repository cloned/created
# âœ… Folder structure created (.github/workflows, .github/scripts)
# âœ… Workflow file created (sql-doc-generator.yml)
# âœ… Python script created (main.py)
# âœ… Test SQL file created
# âœ… Files committed to Git
# âœ… Pushed to GitHub
# â˜ Test PR created
# â˜ Watch automation work!
# ```

# ---

# ## **What Happens Next**

# When you create a Pull Request with SQL changes:

# 1. â±ï¸ **0:00** - GitHub Actions detects SQL file changes
# 2. â±ï¸ **0:30** - Installs Ollama and Python packages
# 3. â±ï¸ **1:30** - Generates documentation using free AI
# 4. â±ï¸ **2:00** - Commits .md file to your branch
# 5. â±ï¸ **2:10** - Posts comment on PR

# **Result:** Your SQL file gets a .md documentation file right next to it!
# ```
# models/staging/
#   â”œâ”€â”€ stg_customers.sql   â† Your code
#   â””â”€â”€ stg_customers.md    â† Auto-generated docs!

# You're all set! Ready to create your first PR and watch it work? ðŸŽ‰wait a sec lets also setup github8:11 AMGitHub Setup - Complete Guide
# Let's set up GitHub properly from scratch!

# Step 1: Create GitHub Account (If You Don't Have One)
# Go to GitHub:
# 1. Open browser
# 2. Go to: https://github.com
# 3. Click "Sign up" (top right)
# Fill Registration Form:
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Welcome to GitHub                       â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                          â”‚
# â”‚  Email address:                          â”‚
# â”‚  [your.email@company.com]                â”‚
# â”‚                                          â”‚
# â”‚  Password:                               â”‚
# â”‚  [â—â—â—â—â—â—â—â—â—â—â—â—]                          â”‚
# â”‚                                          â”‚
# â”‚  Username:                               â”‚
# â”‚  [your-username]                         â”‚
# â”‚                                          â”‚
# â”‚  [Create account]                        â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# Enter:
# - Your work/personal email
# - Strong password (at least 15 characters)
# - Username (lowercase, no spaces)
#   Examples: john-doe, sarah-analytics, data-team-acme

# Click "Create account"
# Verify Email:
# 1. Check your email inbox
# 2. Find email from GitHub
# 3. Click verification link
# 4. Return to GitHub
# Complete Setup:
# GitHub will ask:
# - What's your role? (e.g., Developer, Data Analyst)
# - Team size? (Just you, 2-10, etc.)
# - What will you use GitHub for? (Work projects)

# Answer these and click Continue

# Step 2: Install Git for Windows (If Not Done)
# cmd# Check if Git is already installed
# git --version

# # If you see: git version 2.x.x
# # âœ… Git is installed, skip to Step 3

# # If you see: 'git' is not recognized
# # âŒ Install Git first
# ```

# ### **Install Git:**
# ```
# 1. Go to: https://git-scm.com/download/win
# 2. Download Git installer
# 3. Run installer
# 4. Use all default settings
# 5. Click "Next" until "Install"
# 6. Wait for installation
# 7. Click "Finish"
# Verify:
# cmd# Close and reopen Command Prompt
# git --version
# # Should show: git version 2.43.0.windows.1

# Step 3: Configure Git with Your GitHub Info
# cmd# Set your name (will appear in commits)
# git config --global user.name "Your Full Name"

# # Set your email (MUST match your GitHub email)
# git config --global user.email "your.email@company.com"

# # Set default branch name
# git config --global init.defaultBranch main

# # Verify settings
# git config --list

# # You should see:
# # user.name=Your Full Name
# # user.email=your.email@company.com
# # init.defaultbranch=main

# Step 4: Set Up GitHub Authentication
# You need to authenticate to push code to GitHub. Two methods:
# Method A: GitHub CLI (Recommended - Easiest)
# cmd# Download GitHub CLI
# # Go to: https://cli.github.com/
# # Download "Windows msi" installer
# # Install it

# # After installation, close and reopen Command Prompt

# # Login to GitHub
# gh auth login

# # You'll see interactive prompts:
# ```

# **Follow these prompts:**
# ```
# ? What account do you want to log into?
# > GitHub.com

# ? What is your preferred protocol for Git operations?
# > HTTPS

# ? Authenticate Git with your GitHub credentials?
# > Yes

# ? How would you like to authenticate GitHub CLI?
# > Login with a web browser

# # It will show a code like: ABCD-1234

# ! First copy your one-time code: ABCD-1234
# Press Enter to open github.com in your browser...

# 1. Browser opens
# 2. Paste the code: ABCD-1234
# 3. Click "Continue"
# 4. Click "Authorize GitHub"
# 5. Return to Command Prompt

# âœ“ Authentication complete!
# âœ“ Logged in as your-username
# ```

# ---

# ### **Method B: Personal Access Token (Alternative)**

# If GitHub CLI doesn't work:

# **Create Token:**
# ```
# 1. Go to: https://github.com
# 2. Log in
# 3. Click your profile picture (top right)
# 4. Click "Settings"
# 5. Scroll down, click "Developer settings" (bottom left)
# 6. Click "Personal access tokens"
# 7. Click "Tokens (classic)"
# 8. Click "Generate new token" â†’ "Generate new token (classic)"
# ```

# **Configure Token:**
# ```
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  New personal access token                       â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                                  â”‚
# â”‚  Note: Git operations for SQL Doc Generator     â”‚
# â”‚                                                  â”‚
# â”‚  Expiration: 90 days                             â”‚
# â”‚                                                  â”‚
# â”‚  Select scopes:                                  â”‚
# â”‚  â˜‘ repo (Full control of private repositories)  â”‚
# â”‚  â˜‘ workflow (Update GitHub Action workflows)    â”‚
# â”‚  â˜ write:packages                                â”‚
# â”‚  â˜ delete:packages                               â”‚
# â”‚                                                  â”‚
# â”‚  [Generate token]                                â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# 1. Give it a name: "Git operations for SQL Doc Generator"
# 2. Set expiration: 90 days (or No expiration if allowed)
# 3. Check these scopes:
#    âœ… repo
#    âœ… workflow
# 4. Click "Generate token"
# 5. COPY THE TOKEN (you'll only see it once!)
#    Example: ghp_abc123xyz789...
# 6. Save it in a safe place (Notepad, password manager)
# Use Token in Git:
# cmd# When you push to GitHub for the first time, it will ask:
# # Username: your-github-username
# # Password: [paste your token here, NOT your actual password]

# # Git will remember it for future operations
# ```

# ---

# ## **Step 5: Create a New Repository on GitHub**

# ### **Via GitHub Website:**
# ```
# 1. Go to: https://github.com
# 2. Log in
# 3. Click "+" icon (top right)
# 4. Click "New repository"
# ```

# **Fill Repository Details:**
# ```
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  Create a new repository                         â”‚
# â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
# â”‚                                                  â”‚
# â”‚  Owner: your-username â–¼                          â”‚
# â”‚                                                  â”‚
# â”‚  Repository name *                               â”‚
# â”‚  [my-dbt-project]                               â”‚
# â”‚  (lowercase, hyphens ok, no spaces)              â”‚
# â”‚                                                  â”‚
# â”‚  Description (optional)                          â”‚
# â”‚  [SQL documentation automation with dbt]         â”‚
# â”‚                                                  â”‚
# â”‚  â¦¿ Public   â—‹ Private                            â”‚
# â”‚                                                  â”‚
# â”‚  â˜‘ Add a README file                             â”‚
# â”‚  â˜ Add .gitignore: None â–¼                        â”‚
# â”‚  â˜ Choose a license: None â–¼                      â”‚
# â”‚                                                  â”‚
# â”‚  [Create repository]                             â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# Fill in:
# 1. Repository name: my-dbt-project (or your project name)
# 2. Description: (optional) "dbt project with automated SQL documentation"
# 3. Choose Public or Private:
#    - Public: Free, anyone can see (recommended for learning)
#    - Private: Only you and collaborators can see (need paid plan for Actions)
# 4. âœ… Check "Add a README file"
# 5. Click "Create repository"
# ```

# **Your repository is created!** ðŸŽ‰

# You'll see a page like:
# ```
# https://github.com/your-username/my-dbt-project
# ```

# ---

# ## **Step 6: Clone Repository to Your Computer**

# ### **Method A: Using GitHub Desktop (Easier)**

# **Download GitHub Desktop:**
# ```
# 1. Go to: https://desktop.github.com/
# 2. Download for Windows
# 3. Install it
# 4. Open GitHub Desktop
# 5. Sign in with your GitHub account
# ```

# **Clone Repository:**
# ```
# 1. In GitHub Desktop, click "File" â†’ "Clone repository"
# 2. You'll see your repository: your-username/my-dbt-project
# 3. Click on it
# 4. Choose local path:
#    C:\Projects\my-dbt-project
# 5. Click "Clone"
# 6. Wait for clone to complete
# 7. Click "Open in Visual Studio Code" (or your editor)

# Method B: Using Command Line
# cmd# Create projects folder
# mkdir C:\Projects
# cd C:\Projects

# # Clone your repository
# git clone https://github.com/your-username/my-dbt-project.git

# # You'll be prompted for credentials:
# # Username: your-github-username
# # Password: [paste your Personal Access Token if using Method B]
# #           [or it should work automatically if using GitHub CLI]

# # Navigate into the cloned repository
# cd my-dbt-project

# # Verify you're in the right place
# dir

# # Should show:
# # README.md

# Step 7: Set Up Repository Structure
# cmd# Navigate to your repository
# cd C:\Projects\my-dbt-project

# # Create folder structure
# mkdir models
# mkdir models\staging
# mkdir models\intermediate
# mkdir models\marts
# mkdir business_docs
# mkdir .github
# mkdir .github\workflows
# mkdir .github\scripts
# mkdir .github\scripts\doc_generator
# mkdir .github\config

# # Verify structure
# tree /F

# # Should show:
# # my-dbt-project
# # â”œâ”€â”€ .github
# # â”‚   â”œâ”€â”€ config
# # â”‚   â”œâ”€â”€ scripts
# # â”‚   â”‚   â””â”€â”€ doc_generator
# # â”‚   â””â”€â”€ workflows
# # â”œâ”€â”€ business_docs
# # â”œâ”€â”€ models
# # â”‚   â”œâ”€â”€ intermediate
# # â”‚   â”œâ”€â”€ marts
# # â”‚   â””â”€â”€ staging
# # â””â”€â”€ README.md

# Step 8: Create dbt_project.yml
# cmdnotepad dbt_project.yml
# Paste this:
# yamlname: 'my_dbt_project'
# version: '1.0.0'
# config-version: 2

# profile: 'default'

# model-paths: ["models"]
# analysis-paths: ["analyses"]
# test-paths: ["tests"]
# seed-paths: ["seeds"]
# macro-paths: ["macros"]
# snapshot-paths: ["snapshots"]

# target-path: "target"
# clean-targets:
#   - "target"
#   - "dbt_packages"

# models:
#   my_dbt_project:
#     staging:
#       +materialized: view
#     intermediate:
#       +materialized: view
#     marts:
#       +materialized: table
# Save and close.

# Step 9: Create .gitignore File
# cmdnotepad .gitignore
# ```

# **Paste this:**
# ```
# # dbt
# target/
# dbt_packages/
# logs/
# *.log

# # Python
# __pycache__/
# *.py[cod]
# *$py.class
# *.so
# .Python
# venv/
# env/
# .env

# # OS
# .DS_Store
# Thumbs.db
# *.swp
# *.swo
# *~

# # IDE
# .vscode/
# .idea/
# *.sublime-project
# *.sublime-workspace

# # Temporary files
# *.tmp
# *.bak
# Save and close.

# Step 10: Commit and Push Initial Setup
# cmd# Check status
# git status

# # Should show many untracked files

# # Add all files
# git add .

# # Commit
# git commit -m "Initial project structure setup"

# # Push to GitHub
# git push origin main

# # If prompted for credentials:
# # - GitHub CLI users: Should work automatically
# # - Token users: Enter username and token
# ```

# **Verify on GitHub:**
# ```
# 1. Go to: https://github.com/your-username/my-dbt-project
# 2. Refresh the page
# 3. You should see all your folders and files!
# ```

# ---

# ## **Step 11: Enable GitHub Actions**
# ```
# 1. Go to your repository on GitHub
# 2. Click "Actions" tab
# 3. If you see "Get started with GitHub Actions"
#    Click "I understand my workflows, go ahead and enable them"
# 4. If you see "Workflows" - it's already enabled âœ…

# Step 12: Test Git Setup
# cmd# Create a test file
# echo # Test > test.txt

# # Check status
# git status
# # Should show: test.txt (untracked)

# # Add file
# git add test.txt

# # Commit
# git commit -m "Test commit"

# # Push
# git push origin main

# # Check on GitHub - you should see test.txt

# # Clean up test file
# git rm test.txt
# git commit -m "Remove test file"
# git push origin main
# ```

# **If all this works - Git and GitHub are set up correctly!** âœ…

# ---

# ## **GitHub Setup Checklist**
# ```
# âœ… GitHub account created
# âœ… Email verified
# âœ… Git installed on Windows
# âœ… Git configured (name, email)
# âœ… GitHub authentication set up (CLI or Token)
# âœ… Repository created on GitHub
# âœ… Repository cloned to local machine
# âœ… Folder structure created
# âœ… dbt_project.yml created
# âœ… .gitignore created
# âœ… Files committed and pushed
# âœ… GitHub Actions enabled
# âœ… Test commit successful

# Common Issues & Solutions
# Problem: "Permission denied" when pushing
# cmd# Solution 1: Re-authenticate with GitHub CLI
# gh auth login

# # Solution 2: Create new Personal Access Token
# # Follow Method B in Step 4 above
# Problem: "Repository not found"
# cmd# Check remote URL
# git remote -v

# # Should show:
# # origin  https://github.com/your-username/my-dbt-project.git (fetch)
# # origin  https://github.com/your-username/my-dbt-project.git (push)

# # If wrong, update it:
# git remote set-url origin https://github.com/your-username/my-dbt-project.git
# Problem: "Failed to push some refs"
# cmd# Pull latest changes first
# git pull origin main

# # Then push
# git push origin main

# Quick Reference Commands
# cmd# Check Git status
# git status

# # Add all changes
# git add .

# # Commit with message
# git commit -m "Your message"

# # Push to GitHub
# git push origin main

# # Pull latest from GitHub
# git pull origin main

# # Create new branch
# git checkout -b feature/branch-name

# # Switch branches
# git checkout main

# # See commit history
# git log --oneline

# # See remote repository
# git remote -v

# GitHub is now fully set up! Ready to continue with the SQL documentation generator setup? ðŸš€
# Let me know if you hit any issues during GitHub setup!he help me setp github an project folder in exploreer and open in vscode and then help me create or snc this folder and file structure anirel into github through vscode8:15 AMComplete Setup: GitHub + VS Code + Folder Structure
# Let me guide you through everything step-by-step using VS Code and Windows Explorer.

# PART 1: Create Project Folder in Windows Explorer
# Step 1: Create Project Folder
# 1. Open File Explorer (Windows + E)
# 2. Navigate to C:\
# 3. Right-click in empty space
# 4. New â†’ Folder
# 5. Name it: Projects
# 6. Press Enter

# Now you have: C:\Projects
# Step 2: Create Your dbt Project Folder
# 1. Open C:\Projects folder
# 2. Right-click in empty space
# 3. New â†’ Folder
# 4. Name it: my-dbt-project
# 5. Press Enter

# Now you have: C:\Projects\my-dbt-project

# PART 2: Open Folder in VS Code
# Step 1: Open VS Code
# 1. Press Windows key
# 2. Type: Visual Studio Code
# 3. Click to open VS Code
# Step 2: Open Your Project Folder
# In VS Code:
# 1. Click "File" menu (top left)
# 2. Click "Open Folder..."
# 3. Navigate to: C:\Projects\my-dbt-project
# 4. Click "Select Folder"

# VS Code will open with your empty project folder
# You should see:
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Visual Studio Code                              â”‚
# â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
# â”‚ EXPLORER                                    Ã— â”‚
# â”‚ MY-DBT-PROJECT                                  â”‚
# â”‚   (empty folder)                                â”‚
# â”‚                                                 â”‚
# â”‚                                                 â”‚
# â”‚                                                 â”‚
# â”‚   [Welcome screen in main area]                 â”‚
# â”‚                                                 â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# PART 3: Install VS Code Extensions (Important!)
# Step 1: Install Git Extension
# In VS Code:
# 1. Click the Extensions icon (left sidebar - looks like 4 squares)
#    OR press Ctrl + Shift + X

# 2. In search box, type: GitLens

# 3. Find "GitLens â€” Git supercharged" by GitKraken
# 4. Click "Install"
# 5. Wait for installation

# 6. Search: GitHub Pull Requests
# 7. Find "GitHub Pull Requests and Issues" by GitHub
# 8. Click "Install"
# Step 2: Install Python Extension
# 1. In Extensions search box, type: Python

# 2. Find "Python" by Microsoft
# 3. Click "Install"

# 4. Search: YAML
# 5. Find "YAML" by Red Hat
# 6. Click "Install"
# You should now have these extensions installed:

# âœ… GitLens
# âœ… GitHub Pull Requests and Issues
# âœ… Python
# âœ… YAML


# PART 4: Create Folder Structure in VS Code
# Step 1: Open Terminal in VS Code
# In VS Code:
# 1. Click "Terminal" menu (top)
# 2. Click "New Terminal"

# OR press: Ctrl + `

# You'll see a terminal panel at the bottom
# Step 2: Create All Folders at Once
# Copy this entire command and paste it into the terminal:
# cmdmkdir models && mkdir models\staging && mkdir models\intermediate && mkdir models\marts && mkdir business_docs && mkdir .github && mkdir .github\workflows && mkdir .github\scripts && mkdir .github\scripts\doc_generator && mkdir .github\config
# ```

# **Press Enter**

# ### **Step 3: Verify Folder Structure**

# In VS Code Explorer (left sidebar), you should now see:
# ```
# MY-DBT-PROJECT
# â”œâ”€â”€ .github
# â”‚   â”œâ”€â”€ config
# â”‚   â”œâ”€â”€ scripts
# â”‚   â”‚   â””â”€â”€ doc_generator
# â”‚   â””â”€â”€ workflows
# â”œâ”€â”€ business_docs
# â””â”€â”€ models
#     â”œâ”€â”€ intermediate
#     â”œâ”€â”€ marts
#     â””â”€â”€ staging
# ```

# **Perfect!** âœ…

# ---

# ## **PART 5: Create Files in VS Code**

# ### **File 1: Create dbt_project.yml**
# ```
# In VS Code:
# 1. In Explorer, click on "MY-DBT-PROJECT" (top level)
# 2. Click the "New File" icon (looks like a page with +)
#    OR right-click â†’ New File
# 3. Type filename: dbt_project.yml
# 4. Press Enter
# The file opens. Paste this content:
# yamlname: 'my_dbt_project'
# version: '1.0.0'
# config-version: 2

# profile: 'default'

# model-paths: ["models"]
# analysis-paths: ["analyses"]
# test-paths: ["tests"]
# seed-paths: ["seeds"]
# macro-paths: ["macros"]
# snapshot-paths: ["snapshots"]

# target-path: "target"
# clean-targets:
#   - "target"
#   - "dbt_packages"

# models:
#   my_dbt_project:
#     staging:
#       +materialized: view
#     intermediate:
#       +materialized: view
#     marts:
#       +materialized: table
# ```

# **Save:** Press `Ctrl + S`

# ---

# ### **File 2: Create .gitignore**
# ```
# 1. Click "MY-DBT-PROJECT" folder
# 2. New File icon
# 3. Name: .gitignore
# 4. Press Enter
# ```

# **Paste this:**
# ```
# dbt
target/
dbt_packages/
logs/
*.log

# Python
__pycache__/
*.py[cod]
*$py.class
venv/
env/
.env

# OS
.DS_Store
Thumbs.db

# IDE
.vscode/
.idea/

# Temporary
*.tmp
*.bak